2023-08-19T09:22:04.3314087+07:00  [INF] Now listening on: "http://0.0.0.0:7012" (d826f4b8)
2023-08-19T09:22:04.3388135+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2023-08-19T09:22:04.3390696+07:00  [INF] Hosting environment: "Development" (c3307c92)
2023-08-19T09:22:04.3391109+07:00  [INF] Content root path: "E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\" (b5d60022)
2023-08-19T09:22:45.4071447+07:00 0HMT0BCM80AS0:00000002 [WRN] Failed to determine the https port for redirect. (ca76cc21)
2023-08-19T09:29:09.7374221+07:00 0HMT0BCM80AS2:00000005 [INF] Connected to the database (c88b1de9)
2023-08-19T09:29:11.2648734+07:00 0HMT0BCM80AS2:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T09:29:13.5449374+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("708"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""CREATE DATABASE [ChatApp];" (0723d8ff)
2023-08-19T09:29:13.8918125+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("345"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [ChatApp] SET READ_COMMITTED_SNAPSHOT ON;
END;" (0723d8ff)
2023-08-19T09:29:13.9474880+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T09:29:14.0914303+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Users] (
    [Id] nvarchar(100) NOT NULL,
    [DisplayName] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Bio] nvarchar(max) NULL,
    [PhotoUrl] nvarchar(max) NULL,
    [Gender] nvarchar(max) NULL,
    [DateOfBirth] datetime2 NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);" (0723d8ff)
2023-08-19T09:29:14.1005217+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [ChatRooms] (
    [Id] nvarchar(100) NOT NULL,
    [Name] nvarchar(max) NULL,
    [ChatRoomType] nvarchar(max) NOT NULL,
    [PhotoUrl] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    [CreatorId] nvarchar(100) NULL,
    [CreatedTime] datetime2 NOT NULL,
    [UpdatedTime] datetime2 NOT NULL,
    CONSTRAINT [PK_ChatRooms] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ChatRooms_Users_CreatorId] FOREIGN KEY ([CreatorId]) REFERENCES [Users] ([Id])
);" (0723d8ff)
2023-08-19T09:29:14.1076689+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [UserRelationships] (
    [Id] nvarchar(100) NOT NULL,
    [InitiatorUserId] nvarchar(100) NOT NULL,
    [TargetUserId] nvarchar(100) NOT NULL,
    [RelationshipType] nvarchar(50) NOT NULL,
    [Status] nvarchar(50) NOT NULL,
    [UpdatedTime] datetime2 NOT NULL,
    [CreatedTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserRelationships] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserRelationships_Users_InitiatorUserId] FOREIGN KEY ([InitiatorUserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRelationships_Users_TargetUserId] FOREIGN KEY ([TargetUserId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION
);" (0723d8ff)
2023-08-19T09:29:14.1174348+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Messages] (
    [Id] nvarchar(100) NOT NULL,
    [MessageText] nvarchar(max) NOT NULL,
    [SenderId] nvarchar(100) NOT NULL,
    [ChatRoomId] nvarchar(100) NOT NULL,
    [ReplyToMessageId] nvarchar(100) NULL,
    [Type] nvarchar(50) NOT NULL,
    [FileUrls] nvarchar(max) NULL,
    [CreatedTime] datetime2 NOT NULL,
    [IsDeleted] bit NOT NULL,
    [FileStatus] nvarchar(50) NULL,
    [FileName] nvarchar(max) NULL,
    CONSTRAINT [PK_Messages] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Messages_ChatRooms_ChatRoomId] FOREIGN KEY ([ChatRoomId]) REFERENCES [ChatRooms] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Messages_Messages_ReplyToMessageId] FOREIGN KEY ([ReplyToMessageId]) REFERENCES [Messages] ([Id]),
    CONSTRAINT [FK_Messages_Users_SenderId] FOREIGN KEY ([SenderId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2023-08-19T09:29:14.1262707+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [UserChatRooms] (
    [Id] nvarchar(100) NOT NULL,
    [UserId] nvarchar(100) NOT NULL,
    [ChatRoomId] nvarchar(100) NOT NULL,
    [LastMessageReadId] nvarchar(100) NULL,
    [IsMuted] bit NOT NULL,
    [MembershipStatus] nvarchar(50) NOT NULL,
    [CreatedTime] datetime2 NOT NULL,
    CONSTRAINT [PK_UserChatRooms] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserChatRooms_ChatRooms_ChatRoomId] FOREIGN KEY ([ChatRoomId]) REFERENCES [ChatRooms] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserChatRooms_Messages_LastMessageReadId] FOREIGN KEY ([LastMessageReadId]) REFERENCES [Messages] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserChatRooms_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2023-08-19T09:29:14.1315534+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_ChatRooms_CreatorId] ON [ChatRooms] ([CreatorId]);" (0723d8ff)
2023-08-19T09:29:14.1521910+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Messages_ChatRoomId] ON [Messages] ([ChatRoomId]);" (0723d8ff)
2023-08-19T09:29:14.1581518+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Messages_ReplyToMessageId] ON [Messages] ([ReplyToMessageId]);" (0723d8ff)
2023-08-19T09:29:14.1636534+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Messages_SenderId] ON [Messages] ([SenderId]);" (0723d8ff)
2023-08-19T09:29:14.1742054+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_UserChatRooms_ChatRoomId] ON [UserChatRooms] ([ChatRoomId]);" (0723d8ff)
2023-08-19T09:29:14.1797286+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_UserChatRooms_LastMessageReadId] ON [UserChatRooms] ([LastMessageReadId]);" (0723d8ff)
2023-08-19T09:29:14.1841392+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_UserChatRooms_UserId] ON [UserChatRooms] ([UserId]);" (0723d8ff)
2023-08-19T09:29:14.1887880+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_UserRelationships_InitiatorUserId] ON [UserRelationships] ([InitiatorUserId]);" (0723d8ff)
2023-08-19T09:29:14.1947919+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_UserRelationships_TargetUserId] ON [UserRelationships] ([TargetUserId]);" (0723d8ff)
2023-08-19T09:29:14.6532877+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("40"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T09:29:14.8438261+07:00 0HMT0BCM80AS2:00000005 [INF] Executed DbCommand ("27"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Bio], [DateOfBirth], [DisplayName], [Email], [Gender], [PhotoUrl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T09:29:43.3713762+07:00  [INF] Now listening on: "http://0.0.0.0:7012" (d826f4b8)
2023-08-19T09:29:43.3801109+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2023-08-19T09:29:43.3804241+07:00  [INF] Hosting environment: "Development" (c3307c92)
2023-08-19T09:29:43.3804592+07:00  [INF] Content root path: "E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\" (b5d60022)
2023-08-19T09:30:37.3754589+07:00 0HMT0BH2T45O0:00000002 [WRN] Failed to determine the https port for redirect. (ca76cc21)
2023-08-19T09:30:40.3073826+07:00 0HMT0BH2T45O0:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T09:30:40.3108657+07:00 0HMT0BH2T45O0:00000002 [INF] ConnectionString: Data Source=midouz.online,1433;Initial Catalog=ChatApp;Persist Security Info=True;User ID=sa;Password=MySecretPassword@123 (04d567a3)
2023-08-19T09:30:59.7728238+07:00 0HMT0BH2T45O0:00000002 [INF] Connected to the database (c88b1de9)
2023-08-19T09:31:00.7774652+07:00 0HMT0BH2T45O0:00000002 [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T09:31:00.9233613+07:00 0HMT0BH2T45O0:00000002 [INF] Executed DbCommand ("131"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T09:31:01.3968521+07:00 0HMT0BH2T45O0:00000002 [INF] Executed DbCommand ("39"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T09:31:01.6143726+07:00 0HMT0BH2T45O0:00000002 [INF] Executed DbCommand ("30"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Bio], [DateOfBirth], [DisplayName], [Email], [Gender], [PhotoUrl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T09:33:10.9091072+07:00  [INF] Now listening on: "http://0.0.0.0:7012" (d826f4b8)
2023-08-19T09:33:10.9179379+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2023-08-19T09:33:10.9181988+07:00  [INF] Hosting environment: "Development" (c3307c92)
2023-08-19T09:33:10.9182159+07:00  [INF] Content root path: "E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\" (b5d60022)
2023-08-19T09:34:06.8727152+07:00 0HMT0BJ1BOB43:00000002 [WRN] Failed to determine the https port for redirect. (ca76cc21)
2023-08-19T09:34:09.2196787+07:00 0HMT0BJ1BOB43:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T15:59:47.6165512+07:00  [INF] Now listening on: "http://0.0.0.0:7012" (d826f4b8)
2023-08-19T15:59:47.6246702+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2023-08-19T15:59:47.6249522+07:00  [INF] Hosting environment: "Development" (c3307c92)
2023-08-19T15:59:47.6249854+07:00  [INF] Content root path: "E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\" (b5d60022)
2023-08-19T16:06:17.0916754+07:00  [INF] Now listening on: "http://0.0.0.0:7012" (d826f4b8)
2023-08-19T16:06:17.0989423+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2023-08-19T16:06:17.0992058+07:00  [INF] Hosting environment: "Development" (c3307c92)
2023-08-19T16:06:17.0992262+07:00  [INF] Content root path: "E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\" (b5d60022)
2023-08-19T16:07:26.2882143+07:00 0HMT0IEA1PFQK:00000002 [WRN] Failed to determine the https port for redirect. (ca76cc21)
2023-08-19T16:07:27.7829183+07:00 0HMT0IEA1PFQK:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T16:08:28.3273677+07:00 0HMT0IEA1PFQK:00000002 [ERR] Error connection to Db with connection string: Data Source=localhost;Initial Catalog=ChatApp;Persist Security Info=True;User ID=sa;Password=MySecretPassword@123 (4d9778bf)
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass18_0.<Exists>b__0(DateTime giveUp)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c__DisplayClass12_0`2.<Execute>b__0(DbContext c, TState s)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation, Func`2 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
   at ChatAppBackEnd.Data.DataContext..ctor(DbContextOptions options, ILogger`1 logger) in E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\Data\DataContext.cs:line 13
ClientConnectionId:b81e2db7-3af1-44f3-b410-a653a2bf8909
Error Number:18456,State:1,Class:14
2023-08-19T16:08:28.6102964+07:00 0HMT0IEA1PFQK:00000002 [ERR] Unexpected end of request content. (840ed9fb)
Microsoft.AspNetCore.Server.Kestrel.Core.BadHttpRequestException: Unexpected end of request content.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1ContentLengthMessageBody.ReadAsyncInternal(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.ReadFromStreamAsync(Stream utf8Json, ReadBufferState bufferState, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.ReadAllAsync[TValue](Stream utf8Json, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ChatAppBackEnd.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 20
2023-08-19T16:08:28.6972125+07:00 0HMT0IEA1PFQK:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at ChatAppBackEnd.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 35
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19T16:08:28.6973420+07:00 0HMT0IEA1PFQK:00000002 [WRN] The response has already started, the error page middleware will not be executed. (e1dd4c0d)
2023-08-19T16:08:28.7347825+07:00 0HMT0IEA1PFQK:00000002 [ERR] Connection id ""0HMT0IEA1PFQK"", Request id ""0HMT0IEA1PFQK:00000002"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at ChatAppBackEnd.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 35
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2023-08-19T16:08:31.0883526+07:00 0HMT0IEA1PFQJ:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T16:09:31.1749139+07:00 0HMT0IEA1PFQJ:00000004 [ERR] Error connection to Db with connection string: Data Source=localhost;Initial Catalog=ChatApp;Persist Security Info=True;User ID=sa;Password=MySecretPassword@123 (4d9778bf)
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass18_0.<Exists>b__0(DateTime giveUp)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c__DisplayClass12_0`2.<Execute>b__0(DbContext c, TState s)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation, Func`2 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
   at ChatAppBackEnd.Data.DataContext..ctor(DbContextOptions options, ILogger`1 logger) in E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\Data\DataContext.cs:line 13
ClientConnectionId:10eeb965-5826-4040-92e6-0a9b7ab83f03
Error Number:18456,State:1,Class:14
2023-08-19T16:09:31.7171055+07:00 0HMT0IEA1PFQJ:00000004 [ERR] An error occurred using the connection to database '"ChatApp"' on server '"localhost"'. (5fc3407c)
2023-08-19T16:09:31.7474515+07:00 0HMT0IEA1PFQJ:00000004 [ERR] An exception occurred while iterating over the results of a query for context type '"ChatAppBackEnd.Data.DataContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:10eeb965-5826-4040-92e6-0a9b7ab83f03
Error Number:18456,State:1,Class:14" (f5c7ac34)
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:10eeb965-5826-4040-92e6-0a9b7ab83f03
Error Number:18456,State:1,Class:14
2023-08-19T16:09:31.9348666+07:00 0HMT0IEA1PFQJ:00000004 [ERR] Login failed for user 'sa'. (5510030a)
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method67(Closure , QueryContext )
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.Find(Object[] keyValues)
   at ChatAppBackEnd.Service.UserService.UserService.AddUser(User request) in E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\Service\UserService\UserService.cs:line 16
   at ChatAppBackEnd.Controllers.UsersController.AddUser(User newUser) in E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\Controllers\UsersController.cs:line 21
   at lambda_method55(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ChatAppBackEnd.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 20
ClientConnectionId:10eeb965-5826-4040-92e6-0a9b7ab83f03
Error Number:18456,State:1,Class:14
2023-08-19T16:09:32.0069010+07:00 0HMT0IEA1PFQJ:00000004 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at ChatAppBackEnd.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 35
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
2023-08-19T16:09:32.0069366+07:00 0HMT0IEA1PFQJ:00000004 [WRN] The response has already started, the error page middleware will not be executed. (e1dd4c0d)
2023-08-19T16:09:32.0396928+07:00 0HMT0IEA1PFQJ:00000004 [ERR] Connection id ""0HMT0IEA1PFQJ"", Request id ""0HMT0IEA1PFQJ:00000004"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at ChatAppBackEnd.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\Middlewares\GlobalExceptionHandlingMiddleware.cs:line 35
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2023-08-19T20:28:32.5948334+07:00  [INF] Now listening on: "http://0.0.0.0:7012" (d826f4b8)
2023-08-19T20:28:32.6044432+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2023-08-19T20:28:32.6048739+07:00  [INF] Hosting environment: "Development" (c3307c92)
2023-08-19T20:28:32.6049208+07:00  [INF] Content root path: "E:\Software Development Project\ChatApp\ChatApp-BackEnd\ChatAppBackEnd\" (b5d60022)
2023-08-19T20:30:11.3122562+07:00 0HMT0N1KR8TE7:00000003 [WRN] Failed to determine the https port for redirect. (ca76cc21)
2023-08-19T20:30:12.3834940+07:00 0HMT0N1KR8TE7:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:13.0850228+07:00 0HMT0N1KR8TE7:00000003 [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:13.1351284+07:00 0HMT0N1KR8TE7:00000003 [INF] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:13.5862760+07:00 0HMT0N1KR8TE7:00000003 [INF] Executed DbCommand ("31"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:30:13.7816995+07:00 0HMT0N1KR8TE7:00000003 [INF] Executed DbCommand ("25"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Bio], [DateOfBirth], [DisplayName], [Email], [Gender], [PhotoUrl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:30:14.7802828+07:00 0HMT0N1KR8TE8:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:14.7802828+07:00 0HMT0N1KR8TE7:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:14.7990385+07:00 0HMT0N1KR8TE8:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:14.8035710+07:00 0HMT0N1KR8TE8:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:14.8183890+07:00 0HMT0N1KR8TE7:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:14.8211850+07:00 0HMT0N1KR8TE7:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:14.9321368+07:00 0HMT0N1KR8TE9:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:14.9388537+07:00 0HMT0N1KR8TE9:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:14.9407238+07:00 0HMT0N1KR8TE9:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:14.9442036+07:00 0HMT0N1KR8TE9:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:14.9447166+07:00 0HMT0N1KR8TE9:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:14.9460685+07:00 0HMT0N1KR8TE9:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:14.9852299+07:00 0HMT0N1KR8TE9:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T20:30:15.0359292+07:00 0HMT0N1KR8TE7:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T20:30:15.0407822+07:00 0HMT0N1KR8TE8:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T20:30:15.1440944+07:00 0HMT0N1KR8TE8:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE 0 = 1
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE 0 = 1
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T20:30:32.5358773+07:00 0HMT0N1KR8TEA:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:32.5363487+07:00 0HMT0N1KR8TEA:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:32.5376137+07:00 0HMT0N1KR8TEA:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:32.5411684+07:00 0HMT0N1KR8TEA:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:30:32.5429778+07:00 0HMT0N1KR8TEA:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Bio], [DateOfBirth], [DisplayName], [Email], [Gender], [PhotoUrl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:30:32.7949865+07:00 0HMT0N1KR8TEA:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:32.7949865+07:00 0HMT0N1KR8TEB:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:32.7956264+07:00 0HMT0N1KR8TEB:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:32.7957935+07:00 0HMT0N1KR8TEA:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:32.7974518+07:00 0HMT0N1KR8TEB:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:32.7981586+07:00 0HMT0N1KR8TEA:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:32.7995396+07:00 0HMT0N1KR8TEB:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T20:30:32.8026983+07:00 0HMT0N1KR8TEA:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T20:30:32.8047959+07:00 0HMT0N1KR8TEB:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE 0 = 1
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE 0 = 1
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T20:30:33.1143664+07:00 0HMT0N1KR8TEC:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:33.1148266+07:00 0HMT0N1KR8TEC:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:33.1160498+07:00 0HMT0N1KR8TEC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:33.1164529+07:00 0HMT0N1KR8TEC:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:33.1166735+07:00 0HMT0N1KR8TEC:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:33.1177785+07:00 0HMT0N1KR8TEC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:33.1187517+07:00 0HMT0N1KR8TEC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T20:30:39.1354170+07:00 0HMT0N1KR8TE7:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:39.1360253+07:00 0HMT0N1KR8TE7:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:39.1373304+07:00 0HMT0N1KR8TE7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:39.1529085+07:00 0HMT0N1KR8TE7:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:30:40.1882532+07:00 0HMT0N1KR8TE7:00000009 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:40.1887720+07:00 0HMT0N1KR8TE7:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:40.1900923+07:00 0HMT0N1KR8TE7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:40.1918507+07:00 0HMT0N1KR8TE7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:30:40.6459803+07:00 0HMT0N1KR8TE7:0000000B [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:40.6465201+07:00 0HMT0N1KR8TE7:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:40.6478741+07:00 0HMT0N1KR8TE7:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:40.6574482+07:00 0HMT0N1KR8TE7:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:30:40.6701442+07:00 0HMT0N1KR8TE7:0000000C [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:40.6706676+07:00 0HMT0N1KR8TE7:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:40.6721304+07:00 0HMT0N1KR8TE7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:40.6738025+07:00 0HMT0N1KR8TE7:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:30:40.7247596+07:00 0HMT0N1KR8TE7:0000000D [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:30:40.7254623+07:00 0HMT0N1KR8TE7:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:30:40.7267268+07:00 0HMT0N1KR8TE7:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:30:40.7282328+07:00 0HMT0N1KR8TE7:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:31:26.1165593+07:00 0HMT0N1KR8TE7:0000000F [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:26.1171631+07:00 0HMT0N1KR8TE7:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:26.1172883+07:00 0HMT0N1KR8TE8:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:26.1176570+07:00 0HMT0N1KR8TE8:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:26.1260766+07:00 0HMT0N1KR8TE7:0000000F [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:26.1260806+07:00 0HMT0N1KR8TE8:00000005 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:26.1314260+07:00 0HMT0N1KR8TE8:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T20:31:26.1502529+07:00 0HMT0N1KR8TE7:0000000F [INF] Executed DbCommand ("23"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T20:31:26.1603975+07:00 0HMT0N1KR8TE7:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE 0 = 1
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE 0 = 1
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T20:31:27.1334082+07:00 0HMT0N1KR8TEA:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:27.1334082+07:00 0HMT0N1KR8TEB:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:27.1340160+07:00 0HMT0N1KR8TEB:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:27.1340160+07:00 0HMT0N1KR8TEA:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:27.1353563+07:00 0HMT0N1KR8TEB:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:27.1353563+07:00 0HMT0N1KR8TEA:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:27.1381042+07:00 0HMT0N1KR8TEA:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T20:31:27.1381041+07:00 0HMT0N1KR8TEB:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T20:31:27.1485898+07:00 0HMT0N1KR8TEA:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE 0 = 1
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE 0 = 1
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T20:31:32.2940198+07:00 0HMT0N1KR8TE9:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:32.2947280+07:00 0HMT0N1KR8TE9:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:32.2960331+07:00 0HMT0N1KR8TE9:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:33.9727546+07:00 0HMT0N1KR8TE8:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:33.9727543+07:00 0HMT0N1KR8TE7:00000011 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:33.9732968+07:00 0HMT0N1KR8TE7:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:33.9733433+07:00 0HMT0N1KR8TE8:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:33.9745791+07:00 0HMT0N1KR8TE7:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:33.9745811+07:00 0HMT0N1KR8TE8:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:33.9758655+07:00 0HMT0N1KR8TE7:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T20:31:33.9758628+07:00 0HMT0N1KR8TE8:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T20:31:33.9802195+07:00 0HMT0N1KR8TE8:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE 0 = 1
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE 0 = 1
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T20:31:34.0457356+07:00 0HMT0N1KR8TED:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:34.0461993+07:00 0HMT0N1KR8TED:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:34.0474568+07:00 0HMT0N1KR8TED:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:34.0783216+07:00 0HMT0N1KR8TED:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:34.0788414+07:00 0HMT0N1KR8TED:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:34.0802818+07:00 0HMT0N1KR8TED:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:34.0825251+07:00 0HMT0N1KR8TED:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T20:31:37.2829288+07:00 0HMT0N1KR8TE7:00000013 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:37.2836105+07:00 0HMT0N1KR8TE7:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:37.2849548+07:00 0HMT0N1KR8TE7:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:37.2880047+07:00 0HMT0N1KR8TE7:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:31:37.8461924+07:00 0HMT0N1KR8TE7:00000015 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:37.8466682+07:00 0HMT0N1KR8TE7:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:37.8480027+07:00 0HMT0N1KR8TE7:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:37.8509030+07:00 0HMT0N1KR8TE7:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:31:37.8626824+07:00 0HMT0N1KR8TE7:00000016 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:37.8632572+07:00 0HMT0N1KR8TE7:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:37.8651086+07:00 0HMT0N1KR8TE7:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:37.8672972+07:00 0HMT0N1KR8TE7:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:31:37.9189028+07:00 0HMT0N1KR8TE7:00000017 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:31:37.9195388+07:00 0HMT0N1KR8TE7:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:31:37.9210163+07:00 0HMT0N1KR8TE7:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:31:37.9231774+07:00 0HMT0N1KR8TE7:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:33:29.6671795+07:00 0HMT0N1KR8TE7:00000019 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:29.6679299+07:00 0HMT0N1KR8TE7:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:29.6769816+07:00 0HMT0N1KR8TE7:00000019 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:29.6802771+07:00 0HMT0N1KR8TE7:00000019 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:33:31.7015219+07:00 0HMT0N1KR8TE7:0000001B [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:31.7021821+07:00 0HMT0N1KR8TE7:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:31.7037413+07:00 0HMT0N1KR8TE7:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:31.7054134+07:00 0HMT0N1KR8TE7:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:33:32.1985823+07:00 0HMT0N1KR8TE7:0000001D [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:32.1992072+07:00 0HMT0N1KR8TE7:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:32.2010139+07:00 0HMT0N1KR8TE7:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:32.2038320+07:00 0HMT0N1KR8TE7:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:32.2047198+07:00 0HMT0N1KR8TEE:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:32.2051456+07:00 0HMT0N1KR8TEE:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:32.2064963+07:00 0HMT0N1KR8TEE:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:32.2102118+07:00 0HMT0N1KR8TEE:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:32.2373515+07:00 0HMT0N1KR8TE7:0000001E [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:32.2378328+07:00 0HMT0N1KR8TE7:0000001E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:32.2391368+07:00 0HMT0N1KR8TE7:0000001E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:32.2414607+07:00 0HMT0N1KR8TE7:0000001E [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:33:38.2011240+07:00 0HMT0N1KR8TEC:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:38.2028030+07:00 0HMT0N1KR8TEC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:38.2051280+07:00 0HMT0N1KR8TEC:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:38.9219003+07:00 0HMT0N1KR8TEF:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:38.9231632+07:00 0HMT0N1KR8TEF:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:38.9239234+07:00 0HMT0N1KR8TEG:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:38.9252667+07:00 0HMT0N1KR8TEG:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:38.9255286+07:00 0HMT0N1KR8TEF:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:38.9256081+07:00 0HMT0N1KR8TEH:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:38.9270993+07:00 0HMT0N1KR8TEH:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:38.9271252+07:00 0HMT0N1KR8TEG:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:38.9300121+07:00 0HMT0N1KR8TEH:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:38.9303351+07:00 0HMT0N1KR8TEF:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T20:33:38.9329516+07:00 0HMT0N1KR8TEH:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:38.9353284+07:00 0HMT0N1KR8TEH:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:38.9375445+07:00 0HMT0N1KR8TEH:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:38.9438219+07:00 0HMT0N1KR8TEH:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T20:33:38.9492696+07:00 0HMT0N1KR8TEG:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T20:33:38.9521764+07:00 0HMT0N1KR8TEG:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE 0 = 1
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE 0 = 1
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T20:33:40.5563729+07:00 0HMT0N1KR8TE7:00000020 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:40.5568565+07:00 0HMT0N1KR8TE7:00000020 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:40.5581328+07:00 0HMT0N1KR8TE7:00000020 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:40.5813752+07:00 0HMT0N1KR8TE7:00000020 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user1Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__user1Id_0) AND ([c].[ChatRoomType] = N'ONE')" (0723d8ff)
2023-08-19T20:33:40.5855574+07:00 0HMT0N1KR8TE7:00000020 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE 0 = 1" (0723d8ff)
2023-08-19T20:33:40.6328776+07:00 0HMT0N1KR8TE7:00000020 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ChatRooms] ([Id], [ChatRoomType], [CreatedTime], [CreatorId], [IsDeleted], [Name], [PhotoUrl], [UpdatedTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);" (0723d8ff)
2023-08-19T20:33:40.7364369+07:00 0HMT0N1KR8TE7:00000020 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 50), @p6='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserChatRooms] ([Id], [ChatRoomId], [CreatedTime], [IsMuted], [LastMessageReadId], [MembershipStatus], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:33:40.7371459+07:00 0HMT0N1KR8TE7:00000020 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 50), @p6='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserChatRooms] ([Id], [ChatRoomId], [CreatedTime], [IsMuted], [LastMessageReadId], [MembershipStatus], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:33:40.7441933+07:00 0HMT0N1KR8TE7:00000020 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] IN (N'u0N7EDJWjyci8Z82DBgjrGJHK6P2', N'WKcNU5wY2pTqEyR8YfgTqYTUP8Z2')" (0723d8ff)
2023-08-19T20:33:40.7564538+07:00 0HMT0N1KR8TE7:00000020 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_chatRoomSummary_ChatRoom_Id_0='?' (Size = 100), @__user_Id_1='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE ([u].[ChatRoomId] = @__8__locals1_chatRoomSummary_ChatRoom_Id_0) AND ([u].[UserId] = @__user_Id_1)" (0723d8ff)
2023-08-19T20:33:40.7646507+07:00 0HMT0N1KR8TE7:00000020 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_chatRoomSummary_ChatRoom_Id_0='?' (Size = 100), @__user_Id_1='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE ([u].[ChatRoomId] = @__8__locals1_chatRoomSummary_ChatRoom_Id_0) AND ([u].[UserId] = @__user_Id_1)" (0723d8ff)
2023-08-19T20:33:40.7702829+07:00 0HMT0N1KR8TE7:00000020 [INF] Executed DbCommand ("2"ms) [Parameters=["@__chatRoom_Id_0='?' (Size = 100), @__chatRoom_CreatorId_1='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE ([u].[ChatRoomId] = @__chatRoom_Id_0) AND ([u].[UserId] = @__chatRoom_CreatorId_1)" (0723d8ff)
2023-08-19T20:33:40.8058870+07:00 0HMT0N1KR8TE7:00000023 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:40.8064051+07:00 0HMT0N1KR8TE7:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:40.8070481+07:00 0HMT0N1KR8TEE:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:40.8073854+07:00 0HMT0N1KR8TEE:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:40.8077452+07:00 0HMT0N1KR8TE7:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:40.8085716+07:00 0HMT0N1KR8TEE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:40.8283928+07:00 0HMT0N1KR8TEE:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserRelationships] ([Id], [CreatedTime], [InitiatorUserId], [RelationshipType], [Status], [TargetUserId], [UpdatedTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:33:40.8291748+07:00 0HMT0N1KR8TE7:00000023 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T20:33:40.8397230+07:00 0HMT0N1KR8TEE:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userRelationship_Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE [u].[Id] = @__userRelationship_Id_0" (0723d8ff)
2023-08-19T20:33:40.8482717+07:00 0HMT0N1KR8TE7:00000024 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:40.8488122+07:00 0HMT0N1KR8TE7:00000024 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:40.8500604+07:00 0HMT0N1KR8TE7:00000024 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:40.8519344+07:00 0HMT0N1KR8TE7:00000024 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:33:40.8746936+07:00 0HMT0N1KR8TE7:00000025 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:40.8751608+07:00 0HMT0N1KR8TE7:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:40.8765547+07:00 0HMT0N1KR8TE7:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:40.8786481+07:00 0HMT0N1KR8TE7:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:33:43.1058315+07:00 0HMT0N1KR8TE7:00000027 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:43.1062835+07:00 0HMT0N1KR8TE7:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:43.1075036+07:00 0HMT0N1KR8TE7:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:43.1258301+07:00 0HMT0N1KR8TE7:00000027 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Messages] ([Id], [ChatRoomId], [CreatedTime], [FileName], [FileStatus], [FileUrls], [IsDeleted], [MessageText], [ReplyToMessageId], [SenderId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);" (0723d8ff)
2023-08-19T20:33:43.1324889+07:00 0HMT0N1KR8TE7:00000027 [INF] Executed DbCommand ("2"ms) [Parameters=["@__message_Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Messages] AS [m]
INNER JOIN [Users] AS [u] ON [m].[SenderId] = [u].[Id]
WHERE [m].[Id] = @__message_Id_0" (0723d8ff)
2023-08-19T20:33:43.1592516+07:00 0HMT0N1KR8TE7:00000028 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:43.1597904+07:00 0HMT0N1KR8TE7:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:43.1610784+07:00 0HMT0N1KR8TE7:00000028 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:43.1632164+07:00 0HMT0N1KR8TE7:00000028 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:33:43.1692275+07:00 0HMT0N1KR8TEJ:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:43.1697884+07:00 0HMT0N1KR8TEJ:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:43.1712013+07:00 0HMT0N1KR8TEJ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:43.1805121+07:00 0HMT0N1KR8TEJ:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:43.1996319+07:00 0HMT0N1KR8TEJ:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:33:44.3255888+07:00 0HMT0N1KR8TEG:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:44.3261178+07:00 0HMT0N1KR8TEG:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:44.3275043+07:00 0HMT0N1KR8TEG:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:44.3296588+07:00 0HMT0N1KR8TEG:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T20:33:44.3959066+07:00 0HMT0N1KR8TEG:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:44.3965368+07:00 0HMT0N1KR8TEG:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:44.3980355+07:00 0HMT0N1KR8TEG:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:44.3994180+07:00 0HMT0N1KR8TEG:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:44.4026305+07:00 0HMT0N1KR8TEF:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:44.4032222+07:00 0HMT0N1KR8TEF:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:44.4035249+07:00 0HMT0N1KR8TEG:00000008 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:44.4039692+07:00 0HMT0N1KR8TEG:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:44.4053514+07:00 0HMT0N1KR8TEF:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:44.4059957+07:00 0HMT0N1KR8TEG:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:44.4080471+07:00 0HMT0N1KR8TEF:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:44.4080508+07:00 0HMT0N1KR8TEG:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:44.4120415+07:00 0HMT0N1KR8TEF:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:33:46.4230050+07:00 0HMT0N1KR8TEF:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:46.4235782+07:00 0HMT0N1KR8TEF:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:46.4249344+07:00 0HMT0N1KR8TEF:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:46.4265028+07:00 0HMT0N1KR8TEF:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Messages] ([Id], [ChatRoomId], [CreatedTime], [FileName], [FileStatus], [FileUrls], [IsDeleted], [MessageText], [ReplyToMessageId], [SenderId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);" (0723d8ff)
2023-08-19T20:33:46.4281749+07:00 0HMT0N1KR8TEF:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__message_Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Messages] AS [m]
INNER JOIN [Users] AS [u] ON [m].[SenderId] = [u].[Id]
WHERE [m].[Id] = @__message_Id_0" (0723d8ff)
2023-08-19T20:33:46.4541905+07:00 0HMT0N1KR8TEF:00000008 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:46.4549565+07:00 0HMT0N1KR8TEF:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:46.4571527+07:00 0HMT0N1KR8TEF:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:46.4611677+07:00 0HMT0N1KR8TEF:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:46.4634663+07:00 0HMT0N1KR8TEF:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:33:46.4646867+07:00 0HMT0N1KR8TE7:0000002A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:46.4651763+07:00 0HMT0N1KR8TE7:0000002A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:46.4670202+07:00 0HMT0N1KR8TE7:0000002A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:46.4674362+07:00 0HMT0N1KR8TEJ:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:46.4679244+07:00 0HMT0N1KR8TEJ:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:46.4689102+07:00 0HMT0N1KR8TE7:0000002A [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:46.4699494+07:00 0HMT0N1KR8TEJ:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:46.4713045+07:00 0HMT0N1KR8TE7:0000002A [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:33:46.4748610+07:00 0HMT0N1KR8TEJ:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:33:47.7266760+07:00 0HMT0N1KR8TEF:0000000A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:47.7272241+07:00 0HMT0N1KR8TEF:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:47.7285722+07:00 0HMT0N1KR8TEF:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:47.7410833+07:00 0HMT0N1KR8TEF:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime]
FROM [UserRelationships] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:47.7440913+07:00 0HMT0N1KR8TEF:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (Size = 100), @p0='?' (Size = 50), @p1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserRelationships] SET [Status] = @p0, [UpdatedTime] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:33:47.7509246+07:00 0HMT0N1KR8TEF:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userRelationshipId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE [u].[Id] = @__userRelationshipId_0" (0723d8ff)
2023-08-19T20:33:52.9182057+07:00 0HMT0N1KR8TE7:0000002C [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:52.9187194+07:00 0HMT0N1KR8TE7:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:52.9200541+07:00 0HMT0N1KR8TE7:0000002C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:52.9217027+07:00 0HMT0N1KR8TE7:0000002C [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Messages] ([Id], [ChatRoomId], [CreatedTime], [FileName], [FileStatus], [FileUrls], [IsDeleted], [MessageText], [ReplyToMessageId], [SenderId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);" (0723d8ff)
2023-08-19T20:33:52.9233058+07:00 0HMT0N1KR8TE7:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__message_Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Messages] AS [m]
INNER JOIN [Users] AS [u] ON [m].[SenderId] = [u].[Id]
WHERE [m].[Id] = @__message_Id_0" (0723d8ff)
2023-08-19T20:33:52.9389660+07:00 0HMT0N1KR8TEF:0000000C [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:52.9394520+07:00 0HMT0N1KR8TEF:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:52.9411356+07:00 0HMT0N1KR8TEF:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:52.9446717+07:00 0HMT0N1KR8TEF:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:52.9471397+07:00 0HMT0N1KR8TEF:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:33:52.9516778+07:00 0HMT0N1KR8TE7:0000002E [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:52.9522029+07:00 0HMT0N1KR8TE7:0000002E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:52.9535703+07:00 0HMT0N1KR8TE7:0000002E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:52.9560226+07:00 0HMT0N1KR8TE7:0000002E [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:33:52.9581380+07:00 0HMT0N1KR8TEJ:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:52.9587079+07:00 0HMT0N1KR8TEJ:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:52.9600785+07:00 0HMT0N1KR8TEJ:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:52.9620790+07:00 0HMT0N1KR8TEJ:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:52.9643377+07:00 0HMT0N1KR8TEJ:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:33:56.1728512+07:00 0HMT0N1KR8TE7:0000002F [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:56.1733908+07:00 0HMT0N1KR8TE7:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:56.1746793+07:00 0HMT0N1KR8TE7:0000002F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:56.1763291+07:00 0HMT0N1KR8TE7:0000002F [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Messages] ([Id], [ChatRoomId], [CreatedTime], [FileName], [FileStatus], [FileUrls], [IsDeleted], [MessageText], [ReplyToMessageId], [SenderId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);" (0723d8ff)
2023-08-19T20:33:56.1778934+07:00 0HMT0N1KR8TE7:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__message_Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Messages] AS [m]
INNER JOIN [Users] AS [u] ON [m].[SenderId] = [u].[Id]
WHERE [m].[Id] = @__message_Id_0" (0723d8ff)
2023-08-19T20:33:56.1934035+07:00 0HMT0N1KR8TEF:0000000D [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:56.1939238+07:00 0HMT0N1KR8TEF:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:56.1957156+07:00 0HMT0N1KR8TEF:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:56.1981427+07:00 0HMT0N1KR8TEF:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:56.2003632+07:00 0HMT0N1KR8TEF:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:33:56.2009231+07:00 0HMT0N1KR8TE7:00000030 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:56.2013964+07:00 0HMT0N1KR8TE7:00000030 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:56.2029104+07:00 0HMT0N1KR8TE7:00000030 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:56.2052194+07:00 0HMT0N1KR8TE7:00000030 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:33:56.2072221+07:00 0HMT0N1KR8TEJ:00000008 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:33:56.2077570+07:00 0HMT0N1KR8TEJ:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:33:56.2091706+07:00 0HMT0N1KR8TEJ:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:33:56.2122095+07:00 0HMT0N1KR8TEJ:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:33:56.2146953+07:00 0HMT0N1KR8TEJ:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:36:19.5278185+07:00 0HMT0N1KR8TEL:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:19.5284323+07:00 0HMT0N1KR8TEL:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:19.5381257+07:00 0HMT0N1KR8TEL:00000002 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:19.5400616+07:00 0HMT0N1KR8TEL:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:19.5425463+07:00 0HMT0N1KR8TEL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [Bio], [DateOfBirth], [DisplayName], [Email], [Gender], [PhotoUrl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:36:19.6286030+07:00 0HMT0N1KR8TEL:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:19.6293018+07:00 0HMT0N1KR8TEL:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:19.6306967+07:00 0HMT0N1KR8TEL:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:19.6309679+07:00 0HMT0N1KR8TEK:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:19.6313399+07:00 0HMT0N1KR8TEK:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:19.6333712+07:00 0HMT0N1KR8TEK:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:19.6345721+07:00 0HMT0N1KR8TEL:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T20:36:19.6372615+07:00 0HMT0N1KR8TEK:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T20:36:19.6384797+07:00 0HMT0N1KR8TEL:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE 0 = 1
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE 0 = 1
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T20:36:19.6859524+07:00 0HMT0N1KR8TEM:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:19.6864087+07:00 0HMT0N1KR8TEM:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:19.6876867+07:00 0HMT0N1KR8TEM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:19.6946769+07:00 0HMT0N1KR8TEM:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:19.6952695+07:00 0HMT0N1KR8TEM:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:19.6966829+07:00 0HMT0N1KR8TEM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:19.6985741+07:00 0HMT0N1KR8TEM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T20:36:29.9729183+07:00 0HMT0N1KR8TEL:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:29.9735583+07:00 0HMT0N1KR8TEL:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:29.9749259+07:00 0HMT0N1KR8TEL:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:29.9781880+07:00 0HMT0N1KR8TEL:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:36:30.5301024+07:00 0HMT0N1KR8TEL:00000009 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:30.5307235+07:00 0HMT0N1KR8TEL:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:30.5320463+07:00 0HMT0N1KR8TEL:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:30.5328586+07:00 0HMT0N1KR8TEK:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:30.5334193+07:00 0HMT0N1KR8TEK:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:30.5338277+07:00 0HMT0N1KR8TEL:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:30.5352523+07:00 0HMT0N1KR8TEK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:30.5370045+07:00 0HMT0N1KR8TEK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:30.5852592+07:00 0HMT0N1KR8TEL:0000000A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:30.5858540+07:00 0HMT0N1KR8TEL:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:30.5872783+07:00 0HMT0N1KR8TEL:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:30.5892644+07:00 0HMT0N1KR8TEL:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:36:31.5300990+07:00 0HMT0N1KR8TEL:0000000C [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:31.5307160+07:00 0HMT0N1KR8TEL:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:31.5319974+07:00 0HMT0N1KR8TEL:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:31.5348867+07:00 0HMT0N1KR8TEL:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__user1Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__user1Id_0) AND ([c].[ChatRoomType] = N'ONE')" (0723d8ff)
2023-08-19T20:36:31.5359777+07:00 0HMT0N1KR8TEL:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE 0 = 1" (0723d8ff)
2023-08-19T20:36:31.5375706+07:00 0HMT0N1KR8TEL:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ChatRooms] ([Id], [ChatRoomType], [CreatedTime], [CreatorId], [IsDeleted], [Name], [PhotoUrl], [UpdatedTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);" (0723d8ff)
2023-08-19T20:36:31.5394017+07:00 0HMT0N1KR8TEL:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 50), @p6='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserChatRooms] ([Id], [ChatRoomId], [CreatedTime], [IsMuted], [LastMessageReadId], [MembershipStatus], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:36:31.5397368+07:00 0HMT0N1KR8TEL:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 50), @p6='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserChatRooms] ([Id], [ChatRoomId], [CreatedTime], [IsMuted], [LastMessageReadId], [MembershipStatus], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:36:31.5410037+07:00 0HMT0N1KR8TEL:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] IN (N'6exXBlvTr7TcE0bKt7Up7zw7Pqj1', N'WKcNU5wY2pTqEyR8YfgTqYTUP8Z2')" (0723d8ff)
2023-08-19T20:36:31.5425938+07:00 0HMT0N1KR8TEL:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_chatRoomSummary_ChatRoom_Id_0='?' (Size = 100), @__user_Id_1='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE ([u].[ChatRoomId] = @__8__locals1_chatRoomSummary_ChatRoom_Id_0) AND ([u].[UserId] = @__user_Id_1)" (0723d8ff)
2023-08-19T20:36:31.5430445+07:00 0HMT0N1KR8TEL:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_chatRoomSummary_ChatRoom_Id_0='?' (Size = 100), @__user_Id_1='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE ([u].[ChatRoomId] = @__8__locals1_chatRoomSummary_ChatRoom_Id_0) AND ([u].[UserId] = @__user_Id_1)" (0723d8ff)
2023-08-19T20:36:31.5448795+07:00 0HMT0N1KR8TEL:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__chatRoom_Id_0='?' (Size = 100), @__chatRoom_CreatorId_1='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE ([u].[ChatRoomId] = @__chatRoom_Id_0) AND ([u].[UserId] = @__chatRoom_CreatorId_1)" (0723d8ff)
2023-08-19T20:36:31.5632089+07:00 0HMT0N1KR8TEL:0000000D [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:31.5637472+07:00 0HMT0N1KR8TEL:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:31.5651703+07:00 0HMT0N1KR8TEL:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:31.5678914+07:00 0HMT0N1KR8TEL:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:36:31.5710801+07:00 0HMT0N1KR8TEL:0000000E [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:31.5716940+07:00 0HMT0N1KR8TEL:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:31.5734183+07:00 0HMT0N1KR8TEL:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:31.5774745+07:00 0HMT0N1KR8TEK:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:31.5779460+07:00 0HMT0N1KR8TEL:0000000E [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T20:36:31.5781683+07:00 0HMT0N1KR8TEK:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:31.5795970+07:00 0HMT0N1KR8TEK:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:31.5830589+07:00 0HMT0N1KR8TEK:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserRelationships] ([Id], [CreatedTime], [InitiatorUserId], [RelationshipType], [Status], [TargetUserId], [UpdatedTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:36:31.5878126+07:00 0HMT0N1KR8TEK:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userRelationship_Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE [u].[Id] = @__userRelationship_Id_0" (0723d8ff)
2023-08-19T20:36:31.6143736+07:00 0HMT0N1KR8TEL:0000000F [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:31.6149249+07:00 0HMT0N1KR8TEL:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:31.6164098+07:00 0HMT0N1KR8TEL:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:31.6190146+07:00 0HMT0N1KR8TEL:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:36:33.4727349+07:00 0HMT0N1KR8TEF:0000000F [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:33.4732380+07:00 0HMT0N1KR8TEF:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:33.4745062+07:00 0HMT0N1KR8TEF:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:33.4760741+07:00 0HMT0N1KR8TEF:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T20:36:33.5006176+07:00 0HMT0N1KR8TEG:0000000A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:33.5012390+07:00 0HMT0N1KR8TEG:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:33.5027493+07:00 0HMT0N1KR8TEG:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:33.5045735+07:00 0HMT0N1KR8TEG:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:33.5287210+07:00 0HMT0N1KR8TEG:0000000B [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:33.5292818+07:00 0HMT0N1KR8TEG:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:33.5307176+07:00 0HMT0N1KR8TEG:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:33.5326128+07:00 0HMT0N1KR8TEG:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:34.0112105+07:00 0HMT0N1KR8TEG:0000000D [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:34.0116952+07:00 0HMT0N1KR8TEG:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:34.0131325+07:00 0HMT0N1KR8TEG:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:34.0150551+07:00 0HMT0N1KR8TEG:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T20:36:34.0303773+07:00 0HMT0N1KR8TEF:00000012 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:34.0308579+07:00 0HMT0N1KR8TEF:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:34.0321492+07:00 0HMT0N1KR8TEF:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:34.0340794+07:00 0HMT0N1KR8TEF:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:34.0364663+07:00 0HMT0N1KR8TEF:00000013 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:34.0369465+07:00 0HMT0N1KR8TEF:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:34.0385755+07:00 0HMT0N1KR8TEF:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:34.0403154+07:00 0HMT0N1KR8TEF:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:34.0458729+07:00 0HMT0N1KR8TEF:00000015 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:34.0463324+07:00 0HMT0N1KR8TEF:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:34.0478305+07:00 0HMT0N1KR8TEF:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:34.0506332+07:00 0HMT0N1KR8TEF:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:36.9840245+07:00 0HMT0N1KR8TEF:00000017 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:36.9844955+07:00 0HMT0N1KR8TEF:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:36.9930955+07:00 0HMT0N1KR8TEF:00000017 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:36.9984704+07:00 0HMT0N1KR8TEF:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ChatRooms] ([Id], [ChatRoomType], [CreatedTime], [CreatorId], [IsDeleted], [Name], [PhotoUrl], [UpdatedTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);" (0723d8ff)
2023-08-19T20:36:37.0005877+07:00 0HMT0N1KR8TEF:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 50), @p6='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserChatRooms] ([Id], [ChatRoomId], [CreatedTime], [IsMuted], [LastMessageReadId], [MembershipStatus], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:36:37.0009737+07:00 0HMT0N1KR8TEF:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 50), @p6='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserChatRooms] ([Id], [ChatRoomId], [CreatedTime], [IsMuted], [LastMessageReadId], [MembershipStatus], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:36:37.0013504+07:00 0HMT0N1KR8TEF:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (Size = 50), @p6='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserChatRooms] ([Id], [ChatRoomId], [CreatedTime], [IsMuted], [LastMessageReadId], [MembershipStatus], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2023-08-19T20:36:37.0067045+07:00 0HMT0N1KR8TEF:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] IN (N'u0N7EDJWjyci8Z82DBgjrGJHK6P2', N'6exXBlvTr7TcE0bKt7Up7zw7Pqj1', N'WKcNU5wY2pTqEyR8YfgTqYTUP8Z2')" (0723d8ff)
2023-08-19T20:36:37.0091078+07:00 0HMT0N1KR8TEF:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_chatRoomSummary_ChatRoom_Id_0='?' (Size = 100), @__user_Id_1='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE ([u].[ChatRoomId] = @__8__locals1_chatRoomSummary_ChatRoom_Id_0) AND ([u].[UserId] = @__user_Id_1)" (0723d8ff)
2023-08-19T20:36:37.0096131+07:00 0HMT0N1KR8TEF:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_chatRoomSummary_ChatRoom_Id_0='?' (Size = 100), @__user_Id_1='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE ([u].[ChatRoomId] = @__8__locals1_chatRoomSummary_ChatRoom_Id_0) AND ([u].[UserId] = @__user_Id_1)" (0723d8ff)
2023-08-19T20:36:37.0099753+07:00 0HMT0N1KR8TEF:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_chatRoomSummary_ChatRoom_Id_0='?' (Size = 100), @__user_Id_1='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE ([u].[ChatRoomId] = @__8__locals1_chatRoomSummary_ChatRoom_Id_0) AND ([u].[UserId] = @__user_Id_1)" (0723d8ff)
2023-08-19T20:36:37.0118564+07:00 0HMT0N1KR8TEF:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@__chatRoom_Id_0='?' (Size = 100), @__chatRoom_CreatorId_1='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE ([u].[ChatRoomId] = @__chatRoom_Id_0) AND ([u].[UserId] = @__chatRoom_CreatorId_1)" (0723d8ff)
2023-08-19T20:36:37.0410012+07:00 0HMT0N1KR8TEL:00000011 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:37.0415304+07:00 0HMT0N1KR8TEL:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:37.0431337+07:00 0HMT0N1KR8TEL:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:37.0466246+07:00 0HMT0N1KR8TEL:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:36:37.0743770+07:00 0HMT0N1KR8TEF:00000018 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:37.0749499+07:00 0HMT0N1KR8TEF:00000018 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:37.0764484+07:00 0HMT0N1KR8TEF:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:37.0796668+07:00 0HMT0N1KR8TEF:00000018 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:37.0818858+07:00 0HMT0N1KR8TEF:00000019 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:37.0823798+07:00 0HMT0N1KR8TEF:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:37.0839688+07:00 0HMT0N1KR8TEF:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:37.0866420+07:00 0HMT0N1KR8TEF:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:37.8344944+07:00 0HMT0N1KR8TEL:00000013 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:37.8350172+07:00 0HMT0N1KR8TEL:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:37.8432989+07:00 0HMT0N1KR8TEL:00000013 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:37.8484754+07:00 0HMT0N1KR8TEL:00000013 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T20:36:37.8822456+07:00 0HMT0N1KR8TEL:00000015 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:37.8835277+07:00 0HMT0N1KR8TEL:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:37.8879222+07:00 0HMT0N1KR8TEK:00000009 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:37.8884985+07:00 0HMT0N1KR8TEK:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:37.8898944+07:00 0HMT0N1KR8TEL:00000015 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:37.8927966+07:00 0HMT0N1KR8TEL:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:37.8951747+07:00 0HMT0N1KR8TEK:00000009 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:37.8981810+07:00 0HMT0N1KR8TEK:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:37.9113926+07:00 0HMT0N1KR8TEL:00000016 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:37.9119583+07:00 0HMT0N1KR8TEL:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:37.9180321+07:00 0HMT0N1KR8TEL:00000016 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:37.9211736+07:00 0HMT0N1KR8TEL:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:36:37.9327989+07:00 0HMT0N1KR8TEL:00000017 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:37.9332656+07:00 0HMT0N1KR8TEL:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:37.9396083+07:00 0HMT0N1KR8TEL:00000017 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:37.9418930+07:00 0HMT0N1KR8TEL:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:36:41.3921835+07:00 0HMT0N1KR8TEF:0000001B [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:41.3926758+07:00 0HMT0N1KR8TEF:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:41.4010825+07:00 0HMT0N1KR8TEF:0000001B [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:41.4044795+07:00 0HMT0N1KR8TEF:0000001B [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Messages] ([Id], [ChatRoomId], [CreatedTime], [FileName], [FileStatus], [FileUrls], [IsDeleted], [MessageText], [ReplyToMessageId], [SenderId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);" (0723d8ff)
2023-08-19T20:36:41.4072949+07:00 0HMT0N1KR8TEF:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=["@__message_Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Messages] AS [m]
INNER JOIN [Users] AS [u] ON [m].[SenderId] = [u].[Id]
WHERE [m].[Id] = @__message_Id_0" (0723d8ff)
2023-08-19T20:36:41.4281610+07:00 0HMT0N1KR8TEF:0000001D [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:41.4286601+07:00 0HMT0N1KR8TEF:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:41.4299907+07:00 0HMT0N1KR8TEF:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:41.4330544+07:00 0HMT0N1KR8TEF:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:41.4354914+07:00 0HMT0N1KR8TEF:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:36:41.4454152+07:00 0HMT0N1KR8TEL:00000019 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:41.4461952+07:00 0HMT0N1KR8TEL:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:41.4478328+07:00 0HMT0N1KR8TEL:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:41.4511761+07:00 0HMT0N1KR8TEL:00000019 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:36:41.4546265+07:00 0HMT0N1KR8TEL:0000001A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:36:41.4551191+07:00 0HMT0N1KR8TEL:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:36:41.4571093+07:00 0HMT0N1KR8TEL:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:36:41.4595263+07:00 0HMT0N1KR8TEL:0000001A [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:36:41.4616598+07:00 0HMT0N1KR8TEL:0000001A [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:39:12.6939744+07:00 0HMT0N1KR8TEO:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:12.6945948+07:00 0HMT0N1KR8TEO:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:12.7054735+07:00 0HMT0N1KR8TEO:00000002 [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:12.7090088+07:00 0HMT0N1KR8TEO:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:22.1631838+07:00 0HMT0N1KR8TEO:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:22.1636968+07:00 0HMT0N1KR8TEO:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:22.1650960+07:00 0HMT0N1KR8TEO:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:22.1669691+07:00 0HMT0N1KR8TEO:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:25.4100328+07:00 0HMT0N1KR8TEO:00000006 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:25.4105341+07:00 0HMT0N1KR8TEO:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:25.4119964+07:00 0HMT0N1KR8TEO:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:25.4138917+07:00 0HMT0N1KR8TEO:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:30.2808336+07:00 0HMT0N1KR8TEO:00000008 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:30.2813440+07:00 0HMT0N1KR8TEO:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:30.2829479+07:00 0HMT0N1KR8TEO:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:30.2849386+07:00 0HMT0N1KR8TEO:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:38.4404317+07:00 0HMT0N1KR8TEO:0000000A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:38.4409115+07:00 0HMT0N1KR8TEO:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:38.4424180+07:00 0HMT0N1KR8TEO:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:38.4443002+07:00 0HMT0N1KR8TEO:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:39.7861352+07:00 0HMT0N1KR8TEO:0000000C [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:39.7866942+07:00 0HMT0N1KR8TEO:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:39.7881594+07:00 0HMT0N1KR8TEO:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:39.7902210+07:00 0HMT0N1KR8TEO:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:41.6999140+07:00 0HMT0N1KR8TEO:0000000E [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:41.7004894+07:00 0HMT0N1KR8TEO:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:41.7020131+07:00 0HMT0N1KR8TEO:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:41.7039609+07:00 0HMT0N1KR8TEO:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:42.9054243+07:00 0HMT0N1KR8TEO:0000000F [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:42.9059037+07:00 0HMT0N1KR8TEO:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:42.9071671+07:00 0HMT0N1KR8TEO:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:42.9089055+07:00 0HMT0N1KR8TEO:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:43.3256572+07:00 0HMT0N1KR8TEO:00000010 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:43.3262958+07:00 0HMT0N1KR8TEO:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:43.3278341+07:00 0HMT0N1KR8TEO:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:43.3296481+07:00 0HMT0N1KR8TEO:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:44.6802820+07:00 0HMT0N1KR8TEO:00000012 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:44.6809529+07:00 0HMT0N1KR8TEO:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:44.6827228+07:00 0HMT0N1KR8TEO:00000012 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:44.6847439+07:00 0HMT0N1KR8TEO:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:45.7364360+07:00 0HMT0N1KR8TEO:00000013 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:45.7369102+07:00 0HMT0N1KR8TEO:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:45.7383488+07:00 0HMT0N1KR8TEO:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:45.7404930+07:00 0HMT0N1KR8TEO:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:46.4941915+07:00 0HMT0N1KR8TEO:00000015 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:46.4948804+07:00 0HMT0N1KR8TEO:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:46.4963199+07:00 0HMT0N1KR8TEO:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:46.4979489+07:00 0HMT0N1KR8TEO:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:48.5157456+07:00 0HMT0N1KR8TEO:00000017 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:48.5162420+07:00 0HMT0N1KR8TEO:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:48.5175160+07:00 0HMT0N1KR8TEO:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:48.5192467+07:00 0HMT0N1KR8TEO:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:49.7083650+07:00 0HMT0N1KR8TEO:00000019 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:49.7088501+07:00 0HMT0N1KR8TEO:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:49.7102102+07:00 0HMT0N1KR8TEO:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:49.7119269+07:00 0HMT0N1KR8TEO:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:39:50.2182175+07:00 0HMT0N1KR8TEO:0000001A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:39:50.2188156+07:00 0HMT0N1KR8TEO:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:39:50.2201969+07:00 0HMT0N1KR8TEO:0000001A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:39:50.2223512+07:00 0HMT0N1KR8TEO:0000001A [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T20:47:36.7858396+07:00 0HMT0N1KR8TEP:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:47:36.7891407+07:00 0HMT0N1KR8TEP:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:47:36.7993057+07:00 0HMT0N1KR8TEP:00000005 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:47:36.8035933+07:00 0HMT0N1KR8TEP:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T20:47:36.8058786+07:00 0HMT0N1KR8TEP:00000006 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:47:36.8063744+07:00 0HMT0N1KR8TEP:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:47:36.8076466+07:00 0HMT0N1KR8TEP:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:47:36.8106916+07:00 0HMT0N1KR8TEP:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:47:36.8137219+07:00 0HMT0N1KR8TEP:00000008 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:47:36.8142302+07:00 0HMT0N1KR8TEP:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:47:36.8157172+07:00 0HMT0N1KR8TEP:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:47:36.8347737+07:00 0HMT0N1KR8TEP:00000008 [INF] Executed DbCommand ("17"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:47:36.8388226+07:00 0HMT0N1KR8TEQ:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:47:36.8525370+07:00 0HMT0N1KR8TEQ:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:47:36.8539073+07:00 0HMT0N1KR8TEP:00000009 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:47:36.8565322+07:00 0HMT0N1KR8TEQ:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:47:36.8606551+07:00 0HMT0N1KR8TEQ:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T20:47:36.8607076+07:00 0HMT0N1KR8TEP:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:47:36.8629647+07:00 0HMT0N1KR8TEP:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:47:36.8658510+07:00 0HMT0N1KR8TEP:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:47:36.8724020+07:00 0HMT0N1KR8TER:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:47:36.8730263+07:00 0HMT0N1KR8TER:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:47:36.8733387+07:00 0HMT0N1KR8TEQ:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:47:36.8737118+07:00 0HMT0N1KR8TEQ:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:47:36.8745443+07:00 0HMT0N1KR8TER:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:47:36.8750503+07:00 0HMT0N1KR8TEQ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:47:36.8771739+07:00 0HMT0N1KR8TER:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:47:36.8802073+07:00 0HMT0N1KR8TEQ:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:47:36.8836891+07:00 0HMT0N1KR8TEQ:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T20:47:36.9025504+07:00 0HMT0N1KR8TEQ:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T20:47:36.9031740+07:00 0HMT0N1KR8TEQ:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T20:47:36.9049207+07:00 0HMT0N1KR8TEQ:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T20:47:36.9072128+07:00 0HMT0N1KR8TEQ:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T20:47:36.9103371+07:00 0HMT0N1KR8TEQ:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T21:04:06.1191381+07:00 0HMT0N1KR8TF0:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:06.1191380+07:00 0HMT0N1KR8TF1:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:06.1231420+07:00 0HMT0N1KR8TF0:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:06.1249387+07:00 0HMT0N1KR8TF1:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:06.1344133+07:00 0HMT0N1KR8TF1:00000002 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:06.1344134+07:00 0HMT0N1KR8TF0:00000002 [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:06.1394809+07:00 0HMT0N1KR8TF1:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:04:06.1394809+07:00 0HMT0N1KR8TF0:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:04:06.1683478+07:00 0HMT0N1KR8TEV:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:06.1689340+07:00 0HMT0N1KR8TEV:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:06.1711520+07:00 0HMT0N1KR8TEV:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:06.1746814+07:00 0HMT0N1KR8TEV:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T21:04:06.1874163+07:00 0HMT0N1KR8TEV:00000006 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:06.1878908+07:00 0HMT0N1KR8TEV:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:06.1892787+07:00 0HMT0N1KR8TEV:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:06.1914431+07:00 0HMT0N1KR8TEV:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__ToLower_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE ((@__ToLower_0 LIKE N'') OR (CHARINDEX(@__ToLower_0, LOWER([u].[Email])) > 0)) OR ((LOWER([u].[Email]) LIKE N'') OR (CHARINDEX(LOWER([u].[Email]), @__ToLower_0) > 0))" (0723d8ff)
2023-08-19T21:04:07.4750039+07:00 0HMT0N1KR8TEV:00000008 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:07.4755098+07:00 0HMT0N1KR8TEV:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:07.4768022+07:00 0HMT0N1KR8TEV:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:07.4808862+07:00 0HMT0N1KR8TEV:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:04:07.5278543+07:00 0HMT0N1KR8TEV:0000000A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:07.5285280+07:00 0HMT0N1KR8TEV:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:07.5298562+07:00 0HMT0N1KR8TEV:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:07.5319913+07:00 0HMT0N1KR8TEV:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:04:07.5332655+07:00 0HMT0N1KR8TF0:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:07.5336918+07:00 0HMT0N1KR8TF0:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:07.5349951+07:00 0HMT0N1KR8TF0:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:07.5369070+07:00 0HMT0N1KR8TF0:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:04:07.5589312+07:00 0HMT0N1KR8TEV:0000000C [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:07.5594379+07:00 0HMT0N1KR8TEV:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:07.5607824+07:00 0HMT0N1KR8TEV:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:07.5639639+07:00 0HMT0N1KR8TEV:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:04:11.6743242+07:00 0HMT0N1KR8TEV:0000000E [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:11.6750522+07:00 0HMT0N1KR8TEV:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:11.6837408+07:00 0HMT0N1KR8TEV:0000000E [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:11.6876243+07:00 0HMT0N1KR8TEV:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:04:11.7129420+07:00 0HMT0N1KR8TEV:00000011 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:11.7135368+07:00 0HMT0N1KR8TEV:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:11.7165350+07:00 0HMT0N1KR8TF1:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:11.7171169+07:00 0HMT0N1KR8TF1:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:11.7228129+07:00 0HMT0N1KR8TEV:00000011 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:11.7258400+07:00 0HMT0N1KR8TEV:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:04:11.7265864+07:00 0HMT0N1KR8TF1:00000003 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:11.7286553+07:00 0HMT0N1KR8TF1:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:04:12.6325977+07:00 0HMT0N1KR8TEV:00000013 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:04:12.6332274+07:00 0HMT0N1KR8TEV:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:04:12.6415485+07:00 0HMT0N1KR8TEV:00000013 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:04:12.6484068+07:00 0HMT0N1KR8TEV:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime]
FROM [UserRelationships] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:04:12.6613809+07:00 0HMT0N1KR8TEV:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserRelationships]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T21:05:14.5811558+07:00 0HMT0N1KR8TEV:00000015 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:05:14.5817532+07:00 0HMT0N1KR8TEV:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:05:14.5903807+07:00 0HMT0N1KR8TEV:00000015 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:05:14.5950778+07:00 0HMT0N1KR8TEV:00000015 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:05:14.6402004+07:00 0HMT0N1KR8TEV:00000017 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:05:14.6407670+07:00 0HMT0N1KR8TEV:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:05:14.6407719+07:00 0HMT0N1KR8TF0:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:05:14.6411993+07:00 0HMT0N1KR8TF0:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:05:14.6426925+07:00 0HMT0N1KR8TF0:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:05:14.6426942+07:00 0HMT0N1KR8TEV:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:05:14.6479811+07:00 0HMT0N1KR8TEV:00000017 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:05:14.6486727+07:00 0HMT0N1KR8TF0:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:05:14.6608823+07:00 0HMT0N1KR8TEV:00000018 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:05:14.6618792+07:00 0HMT0N1KR8TEV:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:05:14.6633216+07:00 0HMT0N1KR8TEV:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:05:14.6666701+07:00 0HMT0N1KR8TEV:00000018 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:05:20.8568032+07:00 0HMT0N1KR8TEV:0000001A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:05:20.8572600+07:00 0HMT0N1KR8TEV:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:05:20.8664630+07:00 0HMT0N1KR8TEV:0000001A [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:05:20.8897396+07:00 0HMT0N1KR8TEV:0000001A [INF] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Messages] ([Id], [ChatRoomId], [CreatedTime], [FileName], [FileStatus], [FileUrls], [IsDeleted], [MessageText], [ReplyToMessageId], [SenderId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);" (0723d8ff)
2023-08-19T21:05:20.9623257+07:00 0HMT0N1KR8TEV:0000001C [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:05:20.9628860+07:00 0HMT0N1KR8TEV:0000001C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:05:20.9750914+07:00 0HMT0N1KR8TEV:0000001C [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:05:20.9786562+07:00 0HMT0N1KR8TEV:0000001C [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:05:20.9826563+07:00 0HMT0N1KR8TEV:0000001C [INF] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T21:05:22.2666646+07:00 0HMT0N1KR8TEV:0000001E [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:05:22.2670859+07:00 0HMT0N1KR8TEV:0000001E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:05:22.2783399+07:00 0HMT0N1KR8TEV:0000001E [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:05:22.2873218+07:00 0HMT0N1KR8TEV:0000001E [INF] Executed DbCommand ("3"ms) [Parameters=["@__Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Messages] AS [m]
INNER JOIN [Users] AS [u] ON [m].[SenderId] = [u].[Id]
WHERE [m].[Id] = @__Id_0" (0723d8ff)
2023-08-19T21:05:22.2901157+07:00 0HMT0N1KR8TEV:0000001E [INF] Executed DbCommand ("2"ms) [Parameters=["@p2='?' (Size = 100), @p0='?' (Size = 50), @p1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Messages] SET [FileStatus] = @p0, [FileUrls] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T21:05:22.3379037+07:00 0HMT0N1KR8TEV:0000001F [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:05:22.3387481+07:00 0HMT0N1KR8TEV:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:05:22.3493366+07:00 0HMT0N1KR8TEV:0000001F [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:05:22.3529538+07:00 0HMT0N1KR8TEV:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:05:22.6320194+07:00 0HMT0N1KR8TF2:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:05:22.6325454+07:00 0HMT0N1KR8TF2:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:05:22.6411697+07:00 0HMT0N1KR8TF2:00000003 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:05:22.6443418+07:00 0HMT0N1KR8TF2:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:05:22.6471824+07:00 0HMT0N1KR8TF2:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T21:11:30.4921602+07:00 0HMT0N1KR8TF4:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:30.4957193+07:00 0HMT0N1KR8TF4:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:30.5063737+07:00 0HMT0N1KR8TF4:00000003 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:30.5111227+07:00 0HMT0N1KR8TF4:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Messages] ([Id], [ChatRoomId], [CreatedTime], [FileName], [FileStatus], [FileUrls], [IsDeleted], [MessageText], [ReplyToMessageId], [SenderId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);" (0723d8ff)
2023-08-19T21:11:30.5144092+07:00 0HMT0N1KR8TF4:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__message_Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Messages] AS [m]
INNER JOIN [Users] AS [u] ON [m].[SenderId] = [u].[Id]
WHERE [m].[Id] = @__message_Id_0" (0723d8ff)
2023-08-19T21:11:30.5444388+07:00 0HMT0N1KR8TF4:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:30.5451326+07:00 0HMT0N1KR8TF4:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:30.5465226+07:00 0HMT0N1KR8TF4:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:30.5498379+07:00 0HMT0N1KR8TF4:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:11:30.5519831+07:00 0HMT0N1KR8TF4:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T21:11:30.6028482+07:00 0HMT0N1KR8TF5:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:30.6035680+07:00 0HMT0N1KR8TF5:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:30.6050488+07:00 0HMT0N1KR8TF5:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:30.6072713+07:00 0HMT0N1KR8TF5:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:11:30.6098141+07:00 0HMT0N1KR8TF5:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T21:11:33.4249683+07:00 0HMT0N1KR8TF4:00000006 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:33.4254817+07:00 0HMT0N1KR8TF4:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:33.4267685+07:00 0HMT0N1KR8TF4:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:33.4282481+07:00 0HMT0N1KR8TF4:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Messages] ([Id], [ChatRoomId], [CreatedTime], [FileName], [FileStatus], [FileUrls], [IsDeleted], [MessageText], [ReplyToMessageId], [SenderId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);" (0723d8ff)
2023-08-19T21:11:33.4300085+07:00 0HMT0N1KR8TF4:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__message_Id_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Messages] AS [m]
INNER JOIN [Users] AS [u] ON [m].[SenderId] = [u].[Id]
WHERE [m].[Id] = @__message_Id_0" (0723d8ff)
2023-08-19T21:11:33.4567696+07:00 0HMT0N1KR8TF4:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:33.4573549+07:00 0HMT0N1KR8TF4:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:33.4588473+07:00 0HMT0N1KR8TF4:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:33.4608098+07:00 0HMT0N1KR8TF4:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:11:33.4632154+07:00 0HMT0N1KR8TF4:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T21:11:33.4839993+07:00 0HMT0N1KR8TF5:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:33.4847901+07:00 0HMT0N1KR8TF5:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:33.4864077+07:00 0HMT0N1KR8TF5:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:33.4882671+07:00 0HMT0N1KR8TF5:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:11:33.4910216+07:00 0HMT0N1KR8TF5:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (Size = 100), @p0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [UserChatRooms] SET [LastMessageReadId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2023-08-19T21:11:58.3031127+07:00 0HMT0N1KR8TF4:00000009 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:58.3038304+07:00 0HMT0N1KR8TF4:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:58.3161628+07:00 0HMT0N1KR8TF4:00000009 [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:58.3211051+07:00 0HMT0N1KR8TF4:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:11:58.3336031+07:00 0HMT0N1KR8TF6:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:58.3340791+07:00 0HMT0N1KR8TF6:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:58.3503104+07:00 0HMT0N1KR8TF6:00000003 [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:58.3549111+07:00 0HMT0N1KR8TF6:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:11:58.3569612+07:00 0HMT0N1KR8TF4:0000000C [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:58.3576113+07:00 0HMT0N1KR8TF6:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:58.3576155+07:00 0HMT0N1KR8TF4:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:58.3579319+07:00 0HMT0N1KR8TF6:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:58.3686117+07:00 0HMT0N1KR8TF6:00000004 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:58.3721474+07:00 0HMT0N1KR8TF6:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:11:58.3738106+07:00 0HMT0N1KR8TF4:0000000C [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:58.3783655+07:00 0HMT0N1KR8TF4:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:11:58.8896817+07:00 0HMT0N1KR8TF4:0000000E [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:58.8901995+07:00 0HMT0N1KR8TF4:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:58.8988264+07:00 0HMT0N1KR8TF4:0000000E [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:58.9040416+07:00 0HMT0N1KR8TF4:0000000E [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:11:58.9174700+07:00 0HMT0N1KR8TF6:00000006 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:58.9180671+07:00 0HMT0N1KR8TF6:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:58.9194102+07:00 0HMT0N1KR8TF6:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:58.9220629+07:00 0HMT0N1KR8TF6:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:11:58.9237598+07:00 0HMT0N1KR8TF6:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:58.9241579+07:00 0HMT0N1KR8TF6:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:58.9254050+07:00 0HMT0N1KR8TF6:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:58.9276967+07:00 0HMT0N1KR8TF6:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:11:58.9391858+07:00 0HMT0N1KR8TF6:00000009 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:11:58.9401415+07:00 0HMT0N1KR8TF6:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:11:58.9416142+07:00 0HMT0N1KR8TF6:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:11:58.9442898+07:00 0HMT0N1KR8TF6:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:05.5114555+07:00 0HMT0N1KR8TF6:0000000B [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:05.5119623+07:00 0HMT0N1KR8TF6:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:05.5141467+07:00 0HMT0N1KR8TF6:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:05.5166498+07:00 0HMT0N1KR8TF6:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:12:05.5382777+07:00 0HMT0N1KR8TF4:00000011 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:05.5387531+07:00 0HMT0N1KR8TF4:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:05.5400045+07:00 0HMT0N1KR8TF4:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:05.5415976+07:00 0HMT0N1KR8TF4:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:05.5446515+07:00 0HMT0N1KR8TF4:00000012 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:05.5451479+07:00 0HMT0N1KR8TF4:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:05.5464454+07:00 0HMT0N1KR8TF4:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:05.5482379+07:00 0HMT0N1KR8TF4:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:05.5545814+07:00 0HMT0N1KR8TF4:00000014 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:05.5565524+07:00 0HMT0N1KR8TF4:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:05.5585927+07:00 0HMT0N1KR8TF4:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:05.5606011+07:00 0HMT0N1KR8TF4:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:06.2417774+07:00 0HMT0N1KR8TF4:00000016 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:06.2422931+07:00 0HMT0N1KR8TF4:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:06.2437309+07:00 0HMT0N1KR8TF4:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:06.2462862+07:00 0HMT0N1KR8TF4:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:12:06.2661803+07:00 0HMT0N1KR8TF6:0000000E [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:06.2667264+07:00 0HMT0N1KR8TF6:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:06.2680331+07:00 0HMT0N1KR8TF6:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:06.2698084+07:00 0HMT0N1KR8TF6:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:06.2731244+07:00 0HMT0N1KR8TF6:0000000F [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:06.2739692+07:00 0HMT0N1KR8TF6:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:06.2755697+07:00 0HMT0N1KR8TF6:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:06.2781190+07:00 0HMT0N1KR8TF6:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:06.4963188+07:00 0HMT0N1KR8TF6:00000011 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:06.4968363+07:00 0HMT0N1KR8TF6:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:06.4981188+07:00 0HMT0N1KR8TF6:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:06.4997105+07:00 0HMT0N1KR8TF6:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:12:06.5389497+07:00 0HMT0N1KR8TF6:00000013 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:06.5399152+07:00 0HMT0N1KR8TF6:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:06.5418644+07:00 0HMT0N1KR8TF6:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:06.5452193+07:00 0HMT0N1KR8TF6:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:06.7167517+07:00 0HMT0N1KR8TF6:00000014 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:06.7172845+07:00 0HMT0N1KR8TF6:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:06.7186462+07:00 0HMT0N1KR8TF6:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:06.7204022+07:00 0HMT0N1KR8TF6:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:12:06.7361631+07:00 0HMT0N1KR8TF6:00000015 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:06.7370834+07:00 0HMT0N1KR8TF6:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:06.7383885+07:00 0HMT0N1KR8TF6:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:06.7402452+07:00 0HMT0N1KR8TF6:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:06.7427636+07:00 0HMT0N1KR8TF6:00000016 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:06.7432501+07:00 0HMT0N1KR8TF6:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:06.7446758+07:00 0HMT0N1KR8TF6:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:06.7476870+07:00 0HMT0N1KR8TF6:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:06.7515973+07:00 0HMT0N1KR8TF6:00000017 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:06.7528419+07:00 0HMT0N1KR8TF6:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:06.7549776+07:00 0HMT0N1KR8TF6:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:06.7587364+07:00 0HMT0N1KR8TF6:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:07.0260000+07:00 0HMT0N1KR8TF6:00000018 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:07.0266565+07:00 0HMT0N1KR8TF6:00000018 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:07.0282050+07:00 0HMT0N1KR8TF6:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:07.0298688+07:00 0HMT0N1KR8TF6:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:12:07.0570055+07:00 0HMT0N1KR8TF6:00000019 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:07.0575921+07:00 0HMT0N1KR8TF6:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:07.0589472+07:00 0HMT0N1KR8TF6:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:07.0596864+07:00 0HMT0N1KR8TF4:00000018 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:07.0603834+07:00 0HMT0N1KR8TF4:00000018 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:07.0607822+07:00 0HMT0N1KR8TF6:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:07.0625656+07:00 0HMT0N1KR8TF4:00000018 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:07.0647262+07:00 0HMT0N1KR8TF4:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:07.0659491+07:00 0HMT0N1KR8TF6:0000001A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:07.0665074+07:00 0HMT0N1KR8TF6:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:07.0678750+07:00 0HMT0N1KR8TF6:0000001A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:07.0704412+07:00 0HMT0N1KR8TF6:0000001A [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:12:21.0527216+07:00 0HMT0N1KR8TF6:0000001C [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:12:21.0532928+07:00 0HMT0N1KR8TF6:0000001C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:12:21.0554226+07:00 0HMT0N1KR8TF6:0000001C [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:12:21.0575703+07:00 0HMT0N1KR8TF6:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:15:47.7265385+07:00 0HMT0N1KR8TF7:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:47.7273309+07:00 0HMT0N1KR8TF7:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:47.7310510+07:00 0HMT0N1KR8TF8:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:47.7319538+07:00 0HMT0N1KR8TF8:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:47.7391184+07:00 0HMT0N1KR8TF8:00000002 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:47.7391185+07:00 0HMT0N1KR8TF7:00000004 [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:47.7444551+07:00 0HMT0N1KR8TF8:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T21:15:47.7455889+07:00 0HMT0N1KR8TF7:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:47.7599566+07:00 0HMT0N1KR8TF7:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] IN (N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b', N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e')
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE [m0].[ChatRoomId] IN (N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b', N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e')
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T21:15:47.7833725+07:00 0HMT0N1KR8TF7:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:15:47.8007244+07:00 0HMT0N1KR8TF7:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:47.8053541+07:00 0HMT0N1KR8TF7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100), @__userChatRoom_CreatedTime_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE ([m].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([m].[CreatedTime] > @__userChatRoom_CreatedTime_1)" (0723d8ff)
2023-08-19T21:15:47.8071346+07:00 0HMT0N1KR8TF7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:48.2126905+07:00 0HMT0N1KR8TF4:0000001A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:48.2134928+07:00 0HMT0N1KR8TF6:0000001E [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:48.2173948+07:00 0HMT0N1KR8TF4:0000001A [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:48.2206808+07:00 0HMT0N1KR8TF4:0000001A [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:48.2206679+07:00 0HMT0N1KR8TF6:0000001E [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:48.2242222+07:00 0HMT0N1KR8TF4:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T21:15:48.2256566+07:00 0HMT0N1KR8TF6:0000001E [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:48.2307934+07:00 0HMT0N1KR8TF6:0000001E [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:48.2403801+07:00 0HMT0N1KR8TF6:0000001E [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] IN (N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e', N'5a507a2f-e7c2-4ad9-b5bd-db16ca04bb8b', N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b')
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE [m0].[ChatRoomId] IN (N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e', N'5a507a2f-e7c2-4ad9-b5bd-db16ca04bb8b', N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b')
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T21:15:48.2420773+07:00 0HMT0N1KR8TF6:0000001E [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100), @__userChatRoom_CreatedTime_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE ([m].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([m].[CreatedTime] > @__userChatRoom_CreatedTime_1)" (0723d8ff)
2023-08-19T21:15:48.2432280+07:00 0HMT0N1KR8TF6:0000001E [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:48.2449135+07:00 0HMT0N1KR8TF6:0000001E [INF] Executed DbCommand ("1"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:15:48.2477080+07:00 0HMT0N1KR8TF6:0000001E [INF] Executed DbCommand ("2"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:48.2498676+07:00 0HMT0N1KR8TF6:0000001E [INF] Executed DbCommand ("1"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:15:48.2566790+07:00 0HMT0N1KR8TF6:0000001E [INF] Executed DbCommand ("6"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:49.0201311+07:00 0HMT0N1KR8TF7:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:49.0208539+07:00 0HMT0N1KR8TF7:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:49.0223400+07:00 0HMT0N1KR8TF7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:49.0239426+07:00 0HMT0N1KR8TF7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:49.0292750+07:00 0HMT0N1KR8TF7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] IN (N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b', N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e')
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE [m0].[ChatRoomId] IN (N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b', N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e')
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T21:15:49.0308312+07:00 0HMT0N1KR8TF7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:15:49.0311115+07:00 0HMT0N1KR8TF8:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:49.0318171+07:00 0HMT0N1KR8TF8:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:49.0319090+07:00 0HMT0N1KR8TF7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:49.0331589+07:00 0HMT0N1KR8TF7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100), @__userChatRoom_CreatedTime_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE ([m].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([m].[CreatedTime] > @__userChatRoom_CreatedTime_1)" (0723d8ff)
2023-08-19T21:15:49.0335322+07:00 0HMT0N1KR8TF8:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:49.0341373+07:00 0HMT0N1KR8TF7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:49.0354694+07:00 0HMT0N1KR8TF8:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T21:15:49.1210406+07:00 0HMT0N1KR8TF4:0000001B [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:49.1210406+07:00 0HMT0N1KR8TF6:0000001F [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:49.1218546+07:00 0HMT0N1KR8TF4:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:49.1218547+07:00 0HMT0N1KR8TF6:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:49.1236895+07:00 0HMT0N1KR8TF6:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:49.1236912+07:00 0HMT0N1KR8TF4:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:49.1253461+07:00 0HMT0N1KR8TF6:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:49.1253411+07:00 0HMT0N1KR8TF4:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T21:15:49.1967582+07:00 0HMT0N1KR8TF6:0000001F [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] IN (N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e', N'5a507a2f-e7c2-4ad9-b5bd-db16ca04bb8b', N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b')
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE [m0].[ChatRoomId] IN (N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e', N'5a507a2f-e7c2-4ad9-b5bd-db16ca04bb8b', N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b')
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T21:15:49.2547340+07:00 0HMT0N1KR8TF6:0000001F [INF] Executed DbCommand ("12"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100), @__userChatRoom_CreatedTime_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE ([m].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([m].[CreatedTime] > @__userChatRoom_CreatedTime_1)" (0723d8ff)
2023-08-19T21:15:49.2834798+07:00 0HMT0N1KR8TF6:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:49.2848278+07:00 0HMT0N1KR8TF6:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:15:49.2858293+07:00 0HMT0N1KR8TF6:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:49.2871939+07:00 0HMT0N1KR8TF6:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:15:49.2883012+07:00 0HMT0N1KR8TF6:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:51.5105541+07:00 0HMT0N1KR8TF7:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:51.5113637+07:00 0HMT0N1KR8TF7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:51.5141083+07:00 0HMT0N1KR8TF7:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:51.5181537+07:00 0HMT0N1KR8TF7:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:51.5230673+07:00 0HMT0N1KR8TF7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] IN (N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b', N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e')
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE [m0].[ChatRoomId] IN (N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b', N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e')
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T21:15:51.5246507+07:00 0HMT0N1KR8TF7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:15:51.5258231+07:00 0HMT0N1KR8TF7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:51.5278422+07:00 0HMT0N1KR8TF7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100), @__userChatRoom_CreatedTime_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE ([m].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([m].[CreatedTime] > @__userChatRoom_CreatedTime_1)" (0723d8ff)
2023-08-19T21:15:51.5294339+07:00 0HMT0N1KR8TF7:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:15:51.5980384+07:00 0HMT0N1KR8TF9:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:51.6325736+07:00 0HMT0N1KR8TF9:00000002 [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:51.6487291+07:00 0HMT0N1KR8TF9:00000002 [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:51.6613909+07:00 0HMT0N1KR8TF9:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:51.6619824+07:00 0HMT0N1KR8TF9:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:51.6637697+07:00 0HMT0N1KR8TF9:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:51.6667224+07:00 0HMT0N1KR8TF9:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:15:52.4329742+07:00 0HMT0N1KR8TFC:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:52.4338192+07:00 0HMT0N1KR8TFC:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:52.4350762+07:00 0HMT0N1KR8TFC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:52.4357433+07:00 0HMT0N1KR8TFC:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:15:52.4360625+07:00 0HMT0N1KR8TFC:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:15:52.4372759+07:00 0HMT0N1KR8TFC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:15:52.4383337+07:00 0HMT0N1KR8TFC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:16:06.2737877+07:00 0HMT0N1KR8TEM:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:16:06.2737877+07:00 0HMT0N1KR8TF9:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:16:06.2830732+07:00 0HMT0N1KR8TEM:00000002 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:16:06.2868228+07:00 0HMT0N1KR8TF9:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:16:06.2868227+07:00 0HMT0N1KR8TEM:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:16:06.2870740+07:00 0HMT0N1KR8TED:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:16:06.2881974+07:00 0HMT0N1KR8TED:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:16:06.2910196+07:00 0HMT0N1KR8TF9:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:16:06.2910193+07:00 0HMT0N1KR8TED:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:16:09.4474315+07:00 0HMT0N1KR8TF8:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:16:09.4490032+07:00 0HMT0N1KR8TF8:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:16:09.4521260+07:00 0HMT0N1KR8TF8:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:16:09.4556808+07:00 0HMT0N1KR8TF8:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:16:09.4581582+07:00 0HMT0N1KR8TF8:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] IN (N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b', N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e')
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE [m0].[ChatRoomId] IN (N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b', N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e')
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T21:16:09.4601806+07:00 0HMT0N1KR8TF8:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:16:09.4637868+07:00 0HMT0N1KR8TF8:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:16:09.4645942+07:00 0HMT0N1KR8TFE:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:16:09.4662813+07:00 0HMT0N1KR8TF8:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100), @__userChatRoom_CreatedTime_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE ([m].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([m].[CreatedTime] > @__userChatRoom_CreatedTime_1)" (0723d8ff)
2023-08-19T21:16:09.4666428+07:00 0HMT0N1KR8TFE:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:16:09.4693943+07:00 0HMT0N1KR8TF8:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:16:09.4711059+07:00 0HMT0N1KR8TFE:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:16:09.4740399+07:00 0HMT0N1KR8TFE:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T21:16:09.6025627+07:00 0HMT0N1KR8TFD:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:16:09.6031024+07:00 0HMT0N1KR8TFD:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:16:09.6044215+07:00 0HMT0N1KR8TFD:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:16:09.6127111+07:00 0HMT0N1KR8TFD:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:16:09.6134625+07:00 0HMT0N1KR8TFD:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:16:09.6152482+07:00 0HMT0N1KR8TFD:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:16:09.6169227+07:00 0HMT0N1KR8TFD:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:18:08.5202380+07:00 0HMT0N1KR8TFF:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:18:08.5208612+07:00 0HMT0N1KR8TFF:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:18:08.5379370+07:00 0HMT0N1KR8TFF:00000003 [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:18:08.5423336+07:00 0HMT0N1KR8TFF:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:18:08.6960054+07:00 0HMT0N1KR8TFF:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:18:08.6969531+07:00 0HMT0N1KR8TFF:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:18:08.6987039+07:00 0HMT0N1KR8TFF:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:18:08.7018832+07:00 0HMT0N1KR8TFF:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:18:08.7237354+07:00 0HMT0N1KR8TFF:00000006 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:18:08.7247963+07:00 0HMT0N1KR8TFF:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:18:08.7275737+07:00 0HMT0N1KR8TFF:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:18:08.7317310+07:00 0HMT0N1KR8TFF:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:18:08.7389045+07:00 0HMT0N1KR8TFF:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:18:08.7396229+07:00 0HMT0N1KR8TFF:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:18:08.7419883+07:00 0HMT0N1KR8TFF:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:18:08.7469562+07:00 0HMT0N1KR8TFF:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:21:21.1604724+07:00 0HMT0N1KR8TFH:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:21:21.1612449+07:00 0HMT0N1KR8TFH:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:21:21.1766573+07:00 0HMT0N1KR8TFH:00000003 [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:21:21.1815955+07:00 0HMT0N1KR8TFH:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:21:21.2535906+07:00 0HMT0N1KR8TFH:00000006 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:21:21.2541175+07:00 0HMT0N1KR8TFH:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:21:21.2556303+07:00 0HMT0N1KR8TFH:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:21:21.2594620+07:00 0HMT0N1KR8TFH:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:21:21.2680615+07:00 0HMT0N1KR8TFH:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:21:21.2695875+07:00 0HMT0N1KR8TFH:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:21:21.2726547+07:00 0HMT0N1KR8TFH:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:21:21.2767455+07:00 0HMT0N1KR8TFH:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:21:26.7000418+07:00 0HMT0N1KR8TFH:00000009 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:21:26.7009123+07:00 0HMT0N1KR8TFH:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:21:26.7024649+07:00 0HMT0N1KR8TFH:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:21:26.7044379+07:00 0HMT0N1KR8TFH:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:21:26.7776890+07:00 0HMT0N1KR8TFH:0000000B [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:21:26.7782839+07:00 0HMT0N1KR8TFH:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:21:26.7797010+07:00 0HMT0N1KR8TFH:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:21:26.7819554+07:00 0HMT0N1KR8TFH:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:21:26.7850644+07:00 0HMT0N1KR8TFH:0000000C [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:21:26.7860264+07:00 0HMT0N1KR8TFH:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:21:26.7883286+07:00 0HMT0N1KR8TFH:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:21:26.7897966+07:00 0HMT0N1KR8TFH:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:21:26.8003063+07:00 0HMT0N1KR8TFH:0000000E [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:21:26.8009991+07:00 0HMT0N1KR8TFH:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:21:26.8027244+07:00 0HMT0N1KR8TFH:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:21:26.8062384+07:00 0HMT0N1KR8TFH:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:24:57.4264734+07:00 0HMT0N1KR8TFL:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:24:57.4305292+07:00 0HMT0N1KR8TFL:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:24:57.4429934+07:00 0HMT0N1KR8TFL:00000002 [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:24:57.4437865+07:00 0HMT0N1KR8TFL:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:24:57.4445384+07:00 0HMT0N1KR8TFL:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:24:57.4467141+07:00 0HMT0N1KR8TFL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:24:57.4491481+07:00 0HMT0N1KR8TFL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:24:58.1156666+07:00 0HMT0N1KR8TFK:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:24:58.1164636+07:00 0HMT0N1KR8TFM:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:24:58.1196630+07:00 0HMT0N1KR8TFM:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:24:58.1222350+07:00 0HMT0N1KR8TFM:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:24:58.1278788+07:00 0HMT0N1KR8TFK:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:24:58.1283555+07:00 0HMT0N1KR8TFM:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:24:58.1294474+07:00 0HMT0N1KR8TFK:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:24:58.1323943+07:00 0HMT0N1KR8TFK:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T21:24:58.1343716+07:00 0HMT0N1KR8TFM:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] IN (N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e', N'5a507a2f-e7c2-4ad9-b5bd-db16ca04bb8b', N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b')
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE [m0].[ChatRoomId] IN (N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e', N'5a507a2f-e7c2-4ad9-b5bd-db16ca04bb8b', N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b')
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T21:24:58.1607564+07:00 0HMT0N1KR8TFM:00000003 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100), @__userChatRoom_CreatedTime_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE ([m].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([m].[CreatedTime] > @__userChatRoom_CreatedTime_1)" (0723d8ff)
2023-08-19T21:24:58.2122748+07:00 0HMT0N1KR8TFM:00000003 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:24:58.2379308+07:00 0HMT0N1KR8TFM:00000003 [INF] Executed DbCommand ("13"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:24:58.2390362+07:00 0HMT0N1KR8TFM:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:24:58.2399664+07:00 0HMT0N1KR8TFM:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:24:58.2407322+07:00 0HMT0N1KR8TFM:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:24:58.4240831+07:00 0HMT0N1KR8TFO:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:24:58.4245393+07:00 0HMT0N1KR8TFO:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:24:58.4267123+07:00 0HMT0N1KR8TFO:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:24:58.4272443+07:00 0HMT0N1KR8TFO:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:24:58.4276152+07:00 0HMT0N1KR8TFO:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:24:58.4288891+07:00 0HMT0N1KR8TFO:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:24:58.4303764+07:00 0HMT0N1KR8TFO:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:25:00.2117808+07:00 0HMT0N1KR8TFP:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:00.2122688+07:00 0HMT0N1KR8TFP:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:00.2135962+07:00 0HMT0N1KR8TFP:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:00.2176883+07:00 0HMT0N1KR8TFP:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:25:00.2678837+07:00 0HMT0N1KR8TFP:00000006 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:00.2683488+07:00 0HMT0N1KR8TFP:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:00.2699000+07:00 0HMT0N1KR8TFP:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:00.2728843+07:00 0HMT0N1KR8TFQ:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:00.2735635+07:00 0HMT0N1KR8TFP:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:25:00.2741244+07:00 0HMT0N1KR8TFQ:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:00.2754911+07:00 0HMT0N1KR8TFQ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:00.2777225+07:00 0HMT0N1KR8TFQ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:25:02.4512985+07:00 0HMT0N1KR8TFQ:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:02.4517870+07:00 0HMT0N1KR8TFQ:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:02.4531345+07:00 0HMT0N1KR8TFQ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:02.4552653+07:00 0HMT0N1KR8TFQ:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:25:02.5126680+07:00 0HMT0N1KR8TFQ:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:02.5132340+07:00 0HMT0N1KR8TFQ:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:02.5147365+07:00 0HMT0N1KR8TFQ:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:02.5182471+07:00 0HMT0N1KR8TFQ:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:25:02.5182502+07:00 0HMT0N1KR8TFP:00000008 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:02.5199451+07:00 0HMT0N1KR8TFP:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:02.5217118+07:00 0HMT0N1KR8TFP:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:02.5241658+07:00 0HMT0N1KR8TFP:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:25:02.5287882+07:00 0HMT0N1KR8TFQ:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:02.5300473+07:00 0HMT0N1KR8TFQ:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:02.5317954+07:00 0HMT0N1KR8TFQ:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:02.5345836+07:00 0HMT0N1KR8TFQ:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:25:24.4323704+07:00 0HMT0N1KR8TFT:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:24.4328537+07:00 0HMT0N1KR8TFT:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:24.4423801+07:00 0HMT0N1KR8TFT:00000002 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:24.4429243+07:00 0HMT0N1KR8TFT:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:24.4433446+07:00 0HMT0N1KR8TFT:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:24.4448097+07:00 0HMT0N1KR8TFT:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:24.4469872+07:00 0HMT0N1KR8TFT:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:25:26.1102370+07:00 0HMT0N1KR8TFN:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:26.1102372+07:00 0HMT0N1KR8TFS:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:26.1107114+07:00 0HMT0N1KR8TFS:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:26.1107121+07:00 0HMT0N1KR8TFN:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:26.1125738+07:00 0HMT0N1KR8TFN:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:26.1128549+07:00 0HMT0N1KR8TFS:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:26.1174209+07:00 0HMT0N1KR8TFN:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:25:26.1174208+07:00 0HMT0N1KR8TFS:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T21:25:26.1642634+07:00 0HMT0N1KR8TFN:00000004 [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] IN (N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e', N'5a507a2f-e7c2-4ad9-b5bd-db16ca04bb8b', N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b')
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE [m0].[ChatRoomId] IN (N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e', N'5a507a2f-e7c2-4ad9-b5bd-db16ca04bb8b', N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b')
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T21:25:26.2158527+07:00 0HMT0N1KR8TFN:00000004 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100), @__userChatRoom_CreatedTime_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE ([m].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([m].[CreatedTime] > @__userChatRoom_CreatedTime_1)" (0723d8ff)
2023-08-19T21:25:26.2307668+07:00 0HMT0N1KR8TFN:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:25:26.2331170+07:00 0HMT0N1KR8TFN:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:25:26.2341508+07:00 0HMT0N1KR8TFN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:25:26.2350781+07:00 0HMT0N1KR8TFN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:25:26.2358136+07:00 0HMT0N1KR8TFN:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:25:26.4138563+07:00 0HMT0N1KR8TFU:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:26.4145084+07:00 0HMT0N1KR8TFU:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:26.4162958+07:00 0HMT0N1KR8TFU:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:26.4170722+07:00 0HMT0N1KR8TFU:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:26.4176160+07:00 0HMT0N1KR8TFU:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:26.4191621+07:00 0HMT0N1KR8TFU:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:26.4203229+07:00 0HMT0N1KR8TFU:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:25:28.4295525+07:00 0HMT0N1KR8TFV:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:28.4307342+07:00 0HMT0N1KR8TFV:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:28.4321784+07:00 0HMT0N1KR8TFV:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:28.4327548+07:00 0HMT0N1KR8TFV:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:25:28.4331978+07:00 0HMT0N1KR8TFV:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:25:28.4346123+07:00 0HMT0N1KR8TFV:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:25:28.4362086+07:00 0HMT0N1KR8TFV:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:26:22.4242207+07:00 0HMT0N1KR8TG2:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:26:22.4252732+07:00 0HMT0N1KR8TG2:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:26:22.4356910+07:00 0HMT0N1KR8TG2:00000002 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:26:22.4364561+07:00 0HMT0N1KR8TG2:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:26:22.4371084+07:00 0HMT0N1KR8TG2:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:26:22.4385424+07:00 0HMT0N1KR8TG2:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:26:22.4409619+07:00 0HMT0N1KR8TG2:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:26:30.4420333+07:00 0HMT0N1KR8TG3:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:26:30.4426017+07:00 0HMT0N1KR8TG3:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:26:30.4442425+07:00 0HMT0N1KR8TG3:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:26:30.4448838+07:00 0HMT0N1KR8TG3:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:26:30.4452522+07:00 0HMT0N1KR8TG3:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:26:30.4464336+07:00 0HMT0N1KR8TG3:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:26:30.4476164+07:00 0HMT0N1KR8TG3:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:26:41.3424292+07:00 0HMT0N1KR8TFQ:00000009 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:26:41.3430017+07:00 0HMT0N1KR8TFQ:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:26:41.3443376+07:00 0HMT0N1KR8TFQ:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:26:41.3483087+07:00 0HMT0N1KR8TFQ:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:26:41.4041706+07:00 0HMT0N1KR8TFQ:0000000B [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:26:41.4047140+07:00 0HMT0N1KR8TFQ:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:26:41.4065105+07:00 0HMT0N1KR8TFQ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:26:41.4083900+07:00 0HMT0N1KR8TFP:0000000A [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:26:41.4098398+07:00 0HMT0N1KR8TFQ:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:26:41.4098397+07:00 0HMT0N1KR8TFP:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:26:41.4111531+07:00 0HMT0N1KR8TFP:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:26:41.4128208+07:00 0HMT0N1KR8TFP:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:26:58.2655019+07:00 0HMT0N1KR8TFQ:0000000D [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:26:58.2660562+07:00 0HMT0N1KR8TFQ:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:26:58.2674502+07:00 0HMT0N1KR8TFQ:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:26:58.2694058+07:00 0HMT0N1KR8TFQ:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:26:58.3360595+07:00 0HMT0N1KR8TFQ:0000000F [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:26:58.3367092+07:00 0HMT0N1KR8TFQ:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:26:58.3386170+07:00 0HMT0N1KR8TFQ:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:26:58.3405446+07:00 0HMT0N1KR8TFQ:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:26:58.3551467+07:00 0HMT0N1KR8TFQ:00000010 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:26:58.3557603+07:00 0HMT0N1KR8TFQ:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:26:58.3575503+07:00 0HMT0N1KR8TFQ:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:26:58.3600088+07:00 0HMT0N1KR8TFQ:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:26:58.3833973+07:00 0HMT0N1KR8TFQ:00000012 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:26:58.3841260+07:00 0HMT0N1KR8TFQ:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:26:58.3858984+07:00 0HMT0N1KR8TFQ:00000012 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:26:58.3901389+07:00 0HMT0N1KR8TFQ:00000012 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:31:08.8802575+07:00 0HMT0N1KR8TFD:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:08.8811563+07:00 0HMT0N1KR8TFD:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:08.9046007+07:00 0HMT0N1KR8TFD:00000002 [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:09.2015933+07:00 0HMT0N1KR8TG3:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:09.2016618+07:00 0HMT0N1KR8TFV:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:09.2029842+07:00 0HMT0N1KR8TEH:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:09.2031560+07:00 0HMT0N1KR8TFV:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:09.2031560+07:00 0HMT0N1KR8TG3:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:09.2031843+07:00 0HMT0N1KR8TFL:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:09.2033437+07:00 0HMT0N1KR8TG2:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:09.2058114+07:00 0HMT0N1KR8TFL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:09.2093588+07:00 0HMT0N1KR8TFV:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:09.2103964+07:00 0HMT0N1KR8TFO:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:09.2111357+07:00 0HMT0N1KR8TG3:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:09.2139958+07:00 0HMT0N1KR8TG2:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:09.2145346+07:00 0HMT0N1KR8TFO:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:09.2213141+07:00 0HMT0N1KR8TFL:00000002 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:09.2293820+07:00 0HMT0N1KR8TG2:00000002 [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:09.2388895+07:00 0HMT0N1KR8TFO:00000002 [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:09.2544559+07:00 0HMT0N1KR8TFU:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:09.2553177+07:00 0HMT0N1KR8TFU:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:09.2582680+07:00 0HMT0N1KR8TFU:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:09.2673287+07:00 0HMT0N1KR8TFC:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:09.2899513+07:00 0HMT0N1KR8TFC:00000002 [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:09.2919793+07:00 0HMT0N1KR8TFT:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:09.3012915+07:00 0HMT0N1KR8TFT:00000002 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:09.3012915+07:00 0HMT0N1KR8TFC:00000002 [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:09.3026373+07:00 0HMT0N1KR8TEH:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:09.3043644+07:00 0HMT0N1KR8TFT:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:09.3050053+07:00 0HMT0N1KR8TEH:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:10.8703037+07:00 0HMT0N1KR8TG1:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:10.8703040+07:00 0HMT0N1KR8TG0:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:10.8713344+07:00 0HMT0N1KR8TG0:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:10.8713346+07:00 0HMT0N1KR8TG1:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:10.8730716+07:00 0HMT0N1KR8TG1:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:10.8730716+07:00 0HMT0N1KR8TG0:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:10.8815506+07:00 0HMT0N1KR8TG1:00000005 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:31:10.8815505+07:00 0HMT0N1KR8TG0:00000005 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T21:31:10.8908412+07:00 0HMT0N1KR8TG1:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] IN (N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e', N'5a507a2f-e7c2-4ad9-b5bd-db16ca04bb8b', N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b')
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE [m0].[ChatRoomId] IN (N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e', N'5a507a2f-e7c2-4ad9-b5bd-db16ca04bb8b', N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b')
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T21:31:10.8946013+07:00 0HMT0N1KR8TG1:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100), @__userChatRoom_CreatedTime_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE ([m].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([m].[CreatedTime] > @__userChatRoom_CreatedTime_1)" (0723d8ff)
2023-08-19T21:31:10.8996719+07:00 0HMT0N1KR8TG1:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:31:10.9039607+07:00 0HMT0N1KR8TG1:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:31:10.9054449+07:00 0HMT0N1KR8TG1:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:31:10.9100136+07:00 0HMT0N1KR8TG1:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:31:10.9116183+07:00 0HMT0N1KR8TG1:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:31:11.1780122+07:00 0HMT0N1KR8TG4:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:11.1795291+07:00 0HMT0N1KR8TG4:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:11.1810758+07:00 0HMT0N1KR8TG4:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:11.1819638+07:00 0HMT0N1KR8TG4:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:11.1828744+07:00 0HMT0N1KR8TG4:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:11.1856688+07:00 0HMT0N1KR8TG4:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:11.1901073+07:00 0HMT0N1KR8TG4:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:31:12.7262307+07:00 0HMT0N1KR8TG5:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:12.7269576+07:00 0HMT0N1KR8TG5:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:12.7283984+07:00 0HMT0N1KR8TG5:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:12.7305329+07:00 0HMT0N1KR8TG5:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId], [c].[Id], [c].[ChatRoomType], [c].[CreatedTime], [c].[CreatorId], [c].[IsDeleted], [c].[Name], [c].[PhotoUrl], [c].[UpdatedTime]
FROM [UserChatRooms] AS [u]
INNER JOIN [ChatRooms] AS [c] ON [u].[ChatRoomId] = [c].[Id]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:31:12.7325050+07:00 0HMT0N1KR8TG6:00000003 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:12.7338766+07:00 0HMT0N1KR8TG6:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:12.7358343+07:00 0HMT0N1KR8TG6:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:12.7400781+07:00 0HMT0N1KR8TG6:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[CreatedTime], [u].[InitiatorUserId], [u].[RelationshipType], [u].[Status], [u].[TargetUserId], [u].[UpdatedTime], [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl], [u1].[Id], [u1].[Bio], [u1].[DateOfBirth], [u1].[DisplayName], [u1].[Email], [u1].[Gender], [u1].[PhotoUrl]
FROM [UserRelationships] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[TargetUserId] = [u0].[Id]
INNER JOIN [Users] AS [u1] ON [u].[InitiatorUserId] = [u1].[Id]
WHERE ([u].[InitiatorUserId] = @__userId_0) OR ([u].[TargetUserId] = @__userId_0)" (0723d8ff)
2023-08-19T21:31:12.7400781+07:00 0HMT0N1KR8TG5:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t0].[Id], [t0].[ChatRoomId], [t0].[CreatedTime], [t0].[FileName], [t0].[FileStatus], [t0].[FileUrls], [t0].[IsDeleted], [t0].[MessageText], [t0].[ReplyToMessageId], [t0].[SenderId], [t0].[Type]
FROM (
    SELECT [m].[ChatRoomId]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] IN (N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b', N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e')
    GROUP BY [m].[ChatRoomId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChatRoomId], [t1].[CreatedTime], [t1].[FileName], [t1].[FileStatus], [t1].[FileUrls], [t1].[IsDeleted], [t1].[MessageText], [t1].[ReplyToMessageId], [t1].[SenderId], [t1].[Type]
    FROM (
        SELECT [m0].[Id], [m0].[ChatRoomId], [m0].[CreatedTime], [m0].[FileName], [m0].[FileStatus], [m0].[FileUrls], [m0].[IsDeleted], [m0].[MessageText], [m0].[ReplyToMessageId], [m0].[SenderId], [m0].[Type], ROW_NUMBER() OVER(PARTITION BY [m0].[ChatRoomId] ORDER BY [m0].[CreatedTime] DESC) AS [row]
        FROM [Messages] AS [m0]
        WHERE [m0].[ChatRoomId] IN (N'9f4a81f3-159c-4f90-90e8-0a9fe0f3a95b', N'c2f29374-f52f-4212-bb88-1c3a4bf1b10e')
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[ChatRoomId] = [t0].[ChatRoomId]" (0723d8ff)
2023-08-19T21:31:12.7419020+07:00 0HMT0N1KR8TG5:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__lastMessageRead_ChatRoomId_0='?' (Size = 100), @__lastMessageRead_CreatedTime_1='?' (DbType = DateTime2), @__lastMessageRead_Id_2='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE (([m].[ChatRoomId] = @__lastMessageRead_ChatRoomId_0) AND ([m].[CreatedTime] >= @__lastMessageRead_CreatedTime_1)) AND ([m].[Id] <> @__lastMessageRead_Id_2)" (0723d8ff)
2023-08-19T21:31:12.7445063+07:00 0HMT0N1KR8TG5:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:31:12.7512238+07:00 0HMT0N1KR8TG5:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100), @__userChatRoom_CreatedTime_1='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Messages] AS [m]
WHERE ([m].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([m].[CreatedTime] > @__userChatRoom_CreatedTime_1)" (0723d8ff)
2023-08-19T21:31:12.7530064+07:00 0HMT0N1KR8TG5:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userChatRoom_ChatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u0].[Id], [u0].[Bio], [u0].[DateOfBirth], [u0].[DisplayName], [u0].[Email], [u0].[Gender], [u0].[PhotoUrl]
FROM [UserChatRooms] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE ([u].[ChatRoomId] = @__userChatRoom_ChatRoomId_0) AND ([u].[MembershipStatus] = N'Active')" (0723d8ff)
2023-08-19T21:31:12.9397701+07:00 0HMT0N1KR8TG7:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:12.9407235+07:00 0HMT0N1KR8TG7:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:12.9423955+07:00 0HMT0N1KR8TG7:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:12.9886664+07:00 0HMT0N1KR8TG7:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:12.9892129+07:00 0HMT0N1KR8TG7:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:12.9906744+07:00 0HMT0N1KR8TG7:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:12.9921744+07:00 0HMT0N1KR8TG7:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ChatRoomId]
FROM [UserChatRooms] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2023-08-19T21:31:48.5290818+07:00 0HMT0N1KR8TG5:00000005 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:48.5300450+07:00 0HMT0N1KR8TG5:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:48.5407435+07:00 0HMT0N1KR8TG5:00000005 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:48.5462344+07:00 0HMT0N1KR8TG5:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__chatRoomId_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[ChatRoomId], [t].[CreatedTime], [t].[FileName], [t].[FileStatus], [t].[FileUrls], [t].[IsDeleted], [t].[MessageText], [t].[ReplyToMessageId], [t].[SenderId], [t].[Type], [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM (
    SELECT TOP(@__p_1) [m].[Id], [m].[ChatRoomId], [m].[CreatedTime], [m].[FileName], [m].[FileStatus], [m].[FileUrls], [m].[IsDeleted], [m].[MessageText], [m].[ReplyToMessageId], [m].[SenderId], [m].[Type]
    FROM [Messages] AS [m]
    WHERE [m].[ChatRoomId] = @__chatRoomId_0
    ORDER BY [m].[CreatedTime] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[SenderId] = [u].[Id]
ORDER BY [t].[CreatedTime] DESC" (0723d8ff)
2023-08-19T21:31:48.6591502+07:00 0HMT0N1KR8TG5:00000007 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:48.6596507+07:00 0HMT0N1KR8TG5:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:48.6609249+07:00 0HMT0N1KR8TG5:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:48.6647082+07:00 0HMT0N1KR8TG5:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:31:48.6742583+07:00 0HMT0N1KR8TG6:00000004 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:48.6751174+07:00 0HMT0N1KR8TG6:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:48.6795357+07:00 0HMT0N1KR8TG5:00000008 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T21:31:48.6805434+07:00 0HMT0N1KR8TG5:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T21:31:48.6911218+07:00 0HMT0N1KR8TG6:00000004 [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:48.6961716+07:00 0HMT0N1KR8TG6:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[Bio], [u].[DateOfBirth], [u].[DisplayName], [u].[Email], [u].[Gender], [u].[PhotoUrl]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T21:31:48.6979074+07:00 0HMT0N1KR8TG5:00000008 [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
2023-08-19T21:31:48.7031013+07:00 0HMT0N1KR8TG5:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 100)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ChatRoomId], [u].[CreatedTime], [u].[IsMuted], [u].[LastMessageReadId], [u].[MembershipStatus], [u].[UserId]
FROM [UserChatRooms] AS [u]
WHERE [u].[Id] = @__p_0" (0723d8ff)
2023-08-19T22:21:39.0540012+07:00 0HMT0N1KR8TG4:00000002 [INF] Entity Framework Core "6.0.20" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.20"' with options: "None" (d2805559)
2023-08-19T22:21:39.0621538+07:00 0HMT0N1KR8TG4:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2023-08-19T22:21:39.0779078+07:00 0HMT0N1KR8TG4:00000002 [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""
IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0" (0723d8ff)
